# Rubber â€” äº§å“è®¾è®¡æ–‡æ¡£

> "We only accept rubbish." â€” ä¸€ä¸ªè®©ç§‘ç ”äººæ”¾ä¸‹ç„¦è™‘ã€æ‹¥æŠ±å¤±è´¥çš„å­¦æœ¯ç¤¾åŒºå¹³å°
>
> å‘½åçµæ„Ÿï¼šRubber = Rubbish çš„å˜ä½“ï¼Œè‡´æ•¬ Nature / Science çš„ã€Œå•è¯å³å“ç‰Œã€å‘½åé£æ ¼

---

## 1. äº§å“å®šä½

### 1.1 ä¸€å¥è¯æè¿°

Rubberï¼ˆæºè‡ª Rubbish çš„è°éŸ³å˜ä½“ï¼Œè‡´æ•¬ Nature / Science çš„å•è¯å“ç‰Œå‘½åï¼‰â€”â€”ä¸€ä¸ªä»¥"å­¦æœ¯åƒåœ¾"ä¸ºä¸»é¢˜çš„å¼€æ”¾æŠ•ç¨¿ä¸åŒè¡Œè¯„è®®ç¤¾åŒºï¼Œå¯¹æ ‡ OpenReview çš„æ ¸å¿ƒå­¦æœ¯å·¥ä½œæµï¼Œå åŠ  Reddit/å³åˆ»å¼çš„è½»ç¤¾äº¤äº’åŠ¨ï¼Œä¸ºç§‘ç ”äººæä¾›å‘è¡¨å¤±è´¥å®éªŒã€åæ§½ç§‘ç ”æ—¥å¸¸ã€è¿›è¡Œéä¸¥è‚ƒå­¦æœ¯è®¨è®ºçš„ç©ºé—´ã€‚

### 1.2 æ ¸å¿ƒç”¨æˆ·ç”»åƒ

| è§’è‰² | æè¿° | æ ¸å¿ƒéœ€æ±‚ |
|------|------|---------|
| æŠ•ç¨¿è€… | ç¡•åšç ”ç©¶ç”Ÿã€åšåã€é’å¹´æ•™å¸ˆ | å‘è¡¨è¢«æ‹’ç¨¿ä»¶/å¤±è´¥å®éªŒ/ç§‘ç ”åæ§½ï¼Œè·å¾—å…±é¸£ |
| è¯„å®¡å‘˜ | ä»»ä½•æ³¨å†Œç”¨æˆ·ï¼ˆæ— èµ„è´¨é—¨æ§›ï¼‰ | ä»¥æç¬‘æ–¹å¼"å®¡ç¨¿"ï¼Œå‚ä¸ç¤¾åŒºäº’åŠ¨ |
| å›´è§‚è€… | å¯¹ç§‘ç ”æ–‡åŒ–æ„Ÿå…´è¶£çš„æ³›å­¦æœ¯ç¾¤ä½“ | æµè§ˆæœ‰è¶£å†…å®¹ï¼Œæ”¶è—/è½¬å‘ |
| å­åˆŠä¸»ç¼– | ç¤¾åŒºæ´»è·ƒç”¨æˆ·ï¼Œè‡ªèæˆ–æ¨é€‰ | ç®¡ç†ç‰¹å®šå­¦ç§‘æ¿å—ï¼Œç­–åˆ’ç‰¹è‰²æ´»åŠ¨ |

### 1.3 ä¸ OpenReview çš„å¯¹æ¯”

| ç»´åº¦ | OpenReview | Rubber |
|------|-----------|-----------------|
| å®šä½ | ä¸¥è‚ƒå­¦æœ¯è¯„å®¡ | å¨±ä¹è§£å‹ç¤¾åŒº |
| æŠ•ç¨¿é—¨æ§› | PDF è®ºæ–‡ | LaTeX (é¦–é€‰, åŸºäº arXiv æ¨¡æ¿) / PDF / Markdown / å›¾ç‰‡ |
| è¯„å®¡åˆ¶åº¦ | æŒ‡æ´¾å®¡ç¨¿äººã€ç›²å®¡ | å¼€æ”¾è¯„å®¡ã€"é—­çœ¼ç›²å®¡"ç­‰è¶£å‘³æ¨¡å¼ |
| è¯„å®¡ç»“æœ | Accept / Reject | ğŸ—‘ï¸ Certified Rubbish / â™»ï¸ Too Good, Rejected |
| äº’åŠ¨æ¨¡å¼ | ç»“æ„åŒ–è¯„å®¡è®¨è®º | è‡ªç”±è¯„è®º + ç‚¹èµ + æ”¶è— + è¡¨æƒ…å›åº” |
| ç¤¾åŒºåŠŸèƒ½ | æ—  | ç”¨æˆ·ä¸»é¡µã€æˆå°±ç³»ç»Ÿã€æ’è¡Œæ¦œ |

---

## 2. ä¿¡æ¯æ¶æ„

```
Rubber
â”œâ”€â”€ ğŸ  é¦–é¡µ (Feed)
â”‚   â”œâ”€â”€ æ¨è (ç®—æ³•æ¨è + ç¼–è¾‘ç²¾é€‰)
â”‚   â”œâ”€â”€ æœ€æ–°æŠ•ç¨¿
â”‚   â”œâ”€â”€ çƒ­é—¨è®¨è®º
â”‚   â””â”€â”€ å„å­åˆŠ Tab åˆ‡æ¢
â”‚
â”œâ”€â”€ ğŸ“ æŠ•ç¨¿ (Submit)
â”‚   â”œâ”€â”€ é€‰æ‹©å­åˆŠ (Rubber Chemistry / Communications / ...)
â”‚   â”œâ”€â”€ å¡«å†™å…ƒæ•°æ® (æ ‡é¢˜/æ‘˜è¦/å…³é”®è¯/ä½œè€…)
â”‚   â”œâ”€â”€ ä¸Šä¼ å†…å®¹ (LaTeX åœ¨çº¿ç¼–è¾‘ / PDF / Markdown / å›¾ç‰‡)
â”‚   â””â”€â”€ é€‰æ‹©è¯„å®¡æ¨¡å¼
â”‚
â”œâ”€â”€ ğŸ“„ è®ºæ–‡è¯¦æƒ…é¡µ (Paper View)
â”‚   â”œâ”€â”€ è®ºæ–‡å†…å®¹å±•ç¤º (PDF é¢„è§ˆ / æ­£æ–‡æ¸²æŸ“)
â”‚   â”œâ”€â”€ å…ƒæ•°æ® (ä½œè€…/æ—¥æœŸ/å­åˆŠ/æ ‡ç­¾)
â”‚   â”œâ”€â”€ è¯„å®¡åŒº (ç»“æ„åŒ–è¯„å®¡æ„è§)
â”‚   â”‚   â”œâ”€â”€ å®˜æ–¹è¯„å®¡ (Rating + æ–‡å­—æ„è§)
â”‚   â”‚   â””â”€â”€ ä½œè€…å›å¤ (Rebuttal)
â”‚   â”œâ”€â”€ è‡ªç”±è®¨è®ºåŒº (å¼€æ”¾è¯„è®º)
â”‚   â””â”€â”€ äº’åŠ¨æ  (ç‚¹èµ/æ”¶è—/åˆ†äº«/è¡¨æƒ…ååº”)
â”‚
â”œâ”€â”€ ğŸ“š å­åˆŠ (Venues)
â”‚   â”œâ”€â”€ å­åˆŠä¸»é¡µ (ä»‹ç»/è§„åˆ™/ä¸»ç¼–å›¢é˜Ÿ)
â”‚   â”œâ”€â”€ æŠ•ç¨¿åˆ—è¡¨ (æŒ‰çŠ¶æ€ç­›é€‰)
â”‚   â””â”€â”€ å­åˆŠæ’è¡Œæ¦œ
â”‚
â”œâ”€â”€ ğŸ‘¤ ç”¨æˆ·ä¸­å¿ƒ (Profile)
â”‚   â”œâ”€â”€ ä¸ªäººä¸»é¡µ (æŠ•ç¨¿/è¯„å®¡/æˆå°±)
â”‚   â”œâ”€â”€ æ”¶è—å¤¹
â”‚   â”œâ”€â”€ é€šçŸ¥ä¸­å¿ƒ
â”‚   â””â”€â”€ è®¾ç½®
â”‚
â””â”€â”€ ğŸ” æœç´¢ & å‘ç°
    â”œâ”€â”€ å…¨æ–‡æœç´¢
    â”œâ”€â”€ æ ‡ç­¾æµè§ˆ
    â””â”€â”€ æ’è¡Œæ¦œ (æœ€ä½³åƒåœ¾ / æœ€ä½³è¯„å®¡ / æ´»è·ƒç”¨æˆ·)
```

---

## 3. æ ¸å¿ƒæµç¨‹è®¾è®¡

### 3.1 æŠ•ç¨¿æµç¨‹

```
æŠ•ç¨¿è€…åˆ›å»ºç¨¿ä»¶
    â”‚
    â–¼
é€‰æ‹©å­åˆŠ + å¡«å†™å…ƒæ•°æ®
    â”‚
    â–¼
ä¸Šä¼ å†…å®¹ (LaTeX / PDF / Markdown / å›¾ç‰‡)
    â”‚
    â–¼
é€‰æ‹©è¯„å®¡æ¨¡å¼ â”€â”€â”¬â”€â”€ ğŸ² é—­çœ¼ç›²å®¡ (éšæœºåˆ†é…è¯„å®¡å‘˜ï¼Œè¯„å®¡å‘˜"é—­çœ¼"æ‰“åˆ†)
               â”œâ”€â”€ ğŸŒ å¼€æ”¾è¯„å®¡ (æ‰€æœ‰äººå¯æäº¤è¯„å®¡æ„è§)
               â””â”€â”€ ğŸš€ æé€Ÿæ”¶å½• (è·³è¿‡è¯„å®¡ï¼Œç›´æ¥æ ‡è®°ä¸º Certified Rubbish)
    â”‚
    â–¼
ç¨¿ä»¶è¿›å…¥å¯¹åº”å­åˆŠ (çŠ¶æ€: Under Review / Open for Discussion / Published)
    â”‚
    â–¼
è¯„å®¡å®Œæˆ â†’ ç»“æœå…¬å¸ƒ
    â”œâ”€â”€ ğŸ—‘ï¸ Certified Rubbish (æ­å–œï¼ç»è®¤è¯çš„é«˜è´¨é‡åƒåœ¾)
    â”œâ”€â”€ â™»ï¸ Recyclable (æœ‰ä¸€å®šå›æ”¶ä»·å€¼ï¼Œå»ºè®®æŠ•æ­£åˆŠ)
    â””â”€â”€ âŒ Too Good, Rejected (å¤ªå¥½äº†ï¼Œä¸ç¬¦åˆæœ¬åˆŠæ”¶å½•æ ‡å‡†)
```

### 3.2 è¯„å®¡æµç¨‹ (å¯¹æ ‡ OpenReview)

```
è¯„å®¡å‘˜æ‰“å¼€å¾…å®¡ç¨¿ä»¶
    â”‚
    â–¼
å¡«å†™ç»“æ„åŒ–è¯„å®¡è¡¨ â”€â”€â”¬â”€â”€ åƒåœ¾ç¨‹åº¦è¯„åˆ† (1-10, 10 ä¸ºé¡¶çº§åƒåœ¾)
                   â”œâ”€â”€ æ— ç”¨ç¨‹åº¦è¯„åˆ† (1-10)
                   â”œâ”€â”€ å¨±ä¹ä»·å€¼è¯„åˆ† (1-10)
                   â”œâ”€â”€ æ‘˜è¦è¯„å®¡æ„è§ (æ–‡å­—)
                   â”œâ”€â”€ ä¼˜ç‚¹ (Strengths)
                   â”œâ”€â”€ ç¼ºç‚¹ (Weaknesses) â† åœ¨è¿™é‡Œæ˜¯è¤’ä¹‰
                   â””â”€â”€ æ€»ä½“æ¨è (Certified Rubbish / Recyclable / Too Good)
    â”‚
    â–¼
è¯„å®¡æ„è§å…¬å¼€ (å¯é€‰åŒ¿å / å®å)
    â”‚
    â–¼
ä½œè€…å¯æäº¤ Rebuttal (åé©³ / è‡ªå˜²å›å¤)
    â”‚
    â–¼
ç¤¾åŒºå¯å¯¹è¯„å®¡æ„è§ ç‚¹èµ/è¯„è®º
```

#### 3.2.1 è¯„å®¡å†³å®šæœºåˆ¶

**è‡ªåŠ¨å†³å®šè§„åˆ™ (é—­çœ¼ç›²å®¡ & å¼€æ”¾è¯„å®¡)**

| æ¡ä»¶ | ç»“æœ |
|------|------|
| â‰¥ 2 ä»½è¯„å®¡ä¸”å¤šæ•°æ¨èä¸€è‡´ | è‡ªåŠ¨é‡‡çº³å¤šæ•°æ„è§ä½œä¸ºæœ€ç»ˆå†³å®š |
| â‰¥ 2 ä»½è¯„å®¡ä½†æ— å¤šæ•°ä¸€è‡´ (å¦‚ 3 äººå„ä¸åŒ) | æ ‡è®°ä¸º "äº‰è®®ä¸­", ç”±å­åˆŠä¸»ç¼–è£å®š |
| ä»… 1 ä»½è¯„å®¡ä¸”è¶…è¿‡ 14 å¤©æ— æ–°è¯„å®¡ | è‡ªåŠ¨è½¬ä¸ºå¼€æ”¾è¯„å®¡, å»¶é•¿ 7 å¤© |
| å¼€æ”¾è¯„å®¡æ¨¡å¼: â‰¥ 3 ä»½è¯„å®¡ | å–å¤šæ•°æ„è§; è‹¥æ— å¤šæ•°åˆ™å–å¹³å‡åƒåœ¾åˆ†æœ€é«˜çš„æ¨è |
| æé€Ÿæ”¶å½•æ¨¡å¼ | è·³è¿‡è¯„å®¡, ç›´æ¥æ ‡è®°ä¸º Certified Rubbish |

**å­åˆŠä¸»ç¼–è£å®šæƒ**

- ä¸»ç¼–å¯åœ¨ä»»ä½•æ—¶å€™æ‰‹åŠ¨è¦†ç›–è‡ªåŠ¨å†³å®š (éœ€å¡«å†™è£å®šç†ç”±)
- ä¸»ç¼–è£å®šå, ç³»ç»Ÿå‘é€é€šçŸ¥ç»™ä½œè€…å’Œæ‰€æœ‰è¯„å®¡å‘˜
- è£å®šç†ç”±å…¬å¼€å±•ç¤ºåœ¨è¯„å®¡åŒº

**å†·å¯åŠ¨é˜¶æ®µç‰¹æ®Šè§„åˆ™**

- å­åˆŠæ´»è·ƒè¯„å®¡å‘˜ < 5 äººæ—¶: é—­çœ¼ç›²å®¡è‡ªåŠ¨é™çº§ä¸ºå¼€æ”¾è¯„å®¡
- æ–°ç”¨æˆ· (karma < 10) çš„è¯„å®¡æƒé‡ä¸º 0.5, é¿å…ä½è´¨é‡è¯„å®¡ä¸»å¯¼ç»“æœ
- ä¸»ç¼–å¯æ‰‹åŠ¨æŒ‡æ´¾è¯„å®¡å‘˜, ä¸å— karma åŠ æƒéšæœºé™åˆ¶

### 3.3 ç¤¾åŒºäº’åŠ¨æµç¨‹

```
ä»»ä½•ç”¨æˆ·æµè§ˆè®ºæ–‡è¯¦æƒ…é¡µ
    â”‚
    â”œâ”€â”€ åœ¨è¯„å®¡åŒºä¸‹æ–¹è‡ªç”±è¯„è®º (ä¸éœ€è¦å¡«å†™ç»“æ„åŒ–è¯„å®¡è¡¨)
    â”œâ”€â”€ ä½¿ç”¨ Emoji ååº” (ğŸ—‘ï¸ğŸ’©ğŸ”¥ğŸ˜‚ğŸ†â™»ï¸)
    â”œâ”€â”€ ç‚¹èµ (Up / Down)
    â”œâ”€â”€ æ”¶è—åˆ°ä¸ªäººæ”¶è—å¤¹
    â”œâ”€â”€ åˆ†äº«é“¾æ¥ / ç”Ÿæˆåˆ†äº«å¡ç‰‡
    â””â”€â”€ @æåŠå…¶ä»–ç”¨æˆ·
```

---

## 4. é¡µé¢è®¾è®¡è¦ç‚¹

### 4.1 é¦–é¡µ Feed

- **å¸ƒå±€**: åŒæ ç€‘å¸ƒæµ (æ¡Œé¢ç«¯) / å•æ å¡ç‰‡æµ (ç§»åŠ¨ç«¯)
- **å¡ç‰‡ä¿¡æ¯**: æ ‡é¢˜ã€å­åˆŠæ ‡ç­¾ã€æ‘˜è¦å‰ä¸¤è¡Œã€åƒåœ¾è¯„åˆ†ã€äº’åŠ¨æ•°æ® (è¯„è®ºæ•°/ç‚¹èµæ•°)
- **ç­›é€‰**: å…¨éƒ¨ / æŒ‰å­åˆŠ / æŒ‰è¯„å®¡çŠ¶æ€ / æŒ‰æ—¶é—´
- **æ’åº**: çƒ­é—¨ (ç»¼åˆè¯„åˆ†+äº’åŠ¨) / æœ€æ–° / æœ€é«˜åƒåœ¾åˆ† / ç¼–è¾‘ç²¾é€‰

### 4.2 è®ºæ–‡è¯¦æƒ…é¡µ

å·¦ä¾§ 70%ï¼šè®ºæ–‡å†…å®¹æ¸²æŸ“åŒº

- LaTeX æŠ•ç¨¿: å±•ç¤ºç¼–è¯‘åçš„ PDF (æœåŠ¡ç«¯é¢„ç¼–è¯‘, `react-pdf` æ¸²æŸ“)
- PDF æŠ•ç¨¿: ä½¿ç”¨ `react-pdf` æˆ– `pdf.js` é¢„è§ˆ
- Markdown å†…å®¹: ç›´æ¥æ¸²æŸ“ (æ”¯æŒ KaTeX æ•°å­¦å…¬å¼)
- å›¾ç‰‡å†…å®¹: ç”»å»Šå±•ç¤º

å³ä¾§ 30%ï¼šä¾§è¾¹æ 

- è®ºæ–‡å…ƒæ•°æ®å¡ç‰‡
- äº’åŠ¨æŒ‰é’® (ç‚¹èµ/æ”¶è—/åˆ†äº«)
- åƒåœ¾è¯„åˆ†é›·è¾¾å›¾
- ç›¸å…³æ¨è

ä¸‹æ–¹å…¨å®½ï¼šè¯„å®¡ & è®¨è®º Tab åˆ‡æ¢

- Tab 1: æ­£å¼è¯„å®¡ (ç»“æ„åŒ–ï¼Œç±» OpenReview)
- Tab 2: è‡ªç”±è®¨è®º (ç±» Reddit è¯„è®ºæ ‘)

### 4.3 æŠ•ç¨¿é¡µ

- åˆ†æ­¥è¡¨å• (Step 1: é€‰å­åˆŠ â†’ Step 2: å¡«ä¿¡æ¯ â†’ Step 3: ä¸Šä¼ å†…å®¹ â†’ Step 4: é€‰è¯„å®¡æ¨¡å¼ â†’ Step 5: é¢„è§ˆæäº¤)
- **LaTeX åœ¨çº¿ç¼–è¾‘å™¨ (é¦–é€‰)**: åŸºäº Rubber æ¨¡æ¿ (arXiv æ¨¡æ¿ä¿®æ”¹), æ”¯æŒä¸­æ–‡ (xeCJK), å®æ—¶é¢„è§ˆç¼–è¯‘å PDF
- Markdown ç¼–è¾‘å™¨ (è½»é‡æ›¿ä»£, æ¨è Tiptap, æ”¯æŒ KaTeX å…¬å¼)
- PDF æ‹–æ‹½ä¸Šä¼  (å·²æœ‰ç¼–è¯‘å¥½çš„ PDF å¯ç›´æ¥ä¸Šä¼ )
- å›¾ç‰‡ä¸Šä¼  (å¿«é€ŸæŠ•ç¨¿æ¨¡å¼)
- å®æ—¶é¢„è§ˆ (LaTeX æ¨¡å¼: ç¼–è¯‘å PDF; Markdown æ¨¡å¼: å³æ—¶æ¸²æŸ“)

### 4.4 ç”¨æˆ· Profile

- æŠ•ç¨¿ç»Ÿè®¡ (æ€»æŠ•ç¨¿æ•° / Certified Rubbish æ•° / è¢«æ‹’æ•°)
- è¯„å®¡ç»Ÿè®¡
- æˆå°±å¾½ç« å¢™
- ä¸ªäººåŠ¨æ€æ—¶é—´çº¿
- æ”¶è—å¤¹

### 4.5 ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ

ç§»åŠ¨ç«¯æ˜¯æ ¸å¿ƒä½¿ç”¨åœºæ™¯ (ç§‘ç ”äººé€šå‹¤/æ‘¸é±¼æ—¶æµè§ˆ), MVP é˜¶æ®µå³éœ€é‡ç‚¹è®¾è®¡ã€‚

**å…¨å±€é€‚é…åŸåˆ™:**

- é‡‡ç”¨ Mobile-First å“åº”å¼è®¾è®¡, æ–­ç‚¹: `sm:640px` / `md:768px` / `lg:1024px`
- åº•éƒ¨ Tab å¯¼èˆªæ  (ç§»åŠ¨ç«¯) æ›¿ä»£é¡¶éƒ¨ Navbar: é¦–é¡µ / æŠ•ç¨¿ / æœç´¢ / é€šçŸ¥ / æˆ‘çš„
- æ‰€æœ‰è§¦æ‘¸ç›®æ ‡ â‰¥ 44px, æŒ‰é’®é—´è· â‰¥ 8px

**å„é¡µé¢ç§»åŠ¨ç«¯å·®å¼‚:**

| é¡µé¢ | æ¡Œé¢ç«¯ | ç§»åŠ¨ç«¯ |
|------|--------|--------|
| é¦–é¡µ Feed | åŒæ ç€‘å¸ƒæµ | å•æ å¡ç‰‡æµ, ä¸‹æ‹‰åˆ·æ–° + æ— é™æ»šåŠ¨ |
| è®ºæ–‡è¯¦æƒ… | å·¦ 70% å†…å®¹ + å³ 30% ä¾§è¾¹æ  | å…¨å®½å†…å®¹, ä¾§è¾¹æ ä¿¡æ¯æŠ˜å åˆ°é¡¶éƒ¨å¡ç‰‡; äº’åŠ¨æ å›ºå®šåº•éƒ¨æµ®åŠ¨ |
| æŠ•ç¨¿é¡µ | 5 æ­¥è¡¨å•æ¨ªå‘å±•ç¤º | å…¨å±åˆ†æ­¥è¡¨å•, æ¯æ­¥ç‹¬å ä¸€å±, åº•éƒ¨"ä¸‹ä¸€æ­¥"æŒ‰é’® |
| è¯„å®¡è¡¨å• | å·¦å³åˆ†æ  (è®ºæ–‡ + è¡¨å•) | è®ºæ–‡é¢„è§ˆæŠ˜å , è¯„å®¡è¡¨å•å…¨å±; å¯ä¸Šæ»‘æŸ¥çœ‹è®ºæ–‡ |
| PDF é¢„è§ˆ | å†…åµŒ react-pdf æ¸²æŸ“ | æä¾›"åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ PDF"æŒ‰é’® (ç§»åŠ¨ç«¯ PDF å†…åµŒä½“éªŒå·®) |
| LaTeX ç¼–è¾‘ | å·¦å³åˆ†æ  (ç¼–è¾‘å™¨ + PDF é¢„è§ˆ) | ä¸æ¨èç§»åŠ¨ç«¯ç¼–è¾‘ LaTeX; æä¾›"ä¸Šä¼  .tex æ–‡ä»¶"å…¥å£, ç¼–è¾‘å»ºè®®è·³è½¬æ¡Œé¢ç«¯ |
| Markdown ç¼–è¾‘ | Tiptap å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ | ç®€åŒ–å·¥å…·æ , ä»…ä¿ç•™å¸¸ç”¨æ ¼å¼; æ”¯æŒçº¯ Markdown æ–‡æœ¬è¾“å…¥æ¨¡å¼ |

**ç§»åŠ¨ç«¯æŠ•ç¨¿ç®€åŒ–æµç¨‹:**

```
ç§»åŠ¨ç«¯æŠ•ç¨¿å…¥å£ (åº•éƒ¨ Tab "+" æŒ‰é’®)
    â”‚
    â”œâ”€â”€ å¿«é€ŸæŠ•ç¨¿ (æ¨è): æ ‡é¢˜ + å›¾ç‰‡/æ–‡å­—, è·³è¿‡ PDF ä¸Šä¼ 
    â”‚   â†’ è‡ªåŠ¨é€‰æ‹©"æé€Ÿæ”¶å½•"æ¨¡å¼, é™ä½æŠ•ç¨¿é—¨æ§›
    â”‚
    â””â”€â”€ å®Œæ•´æŠ•ç¨¿: è·³è½¬æ ‡å‡† 5 æ­¥è¡¨å•
        â†’ PDF ä¸Šä¼ æ”¹ä¸º"ä»æ–‡ä»¶é€‰æ‹©", ä¸æ”¯æŒæ‹–æ‹½
```

### 4.6 SEO ä¸ç¤¾äº¤åˆ†äº« (MVP å³éœ€)

è®ºæ–‡è¯¦æƒ…é¡µæ˜¯ Rubber æœ€æ ¸å¿ƒçš„å¯åˆ†äº«å†…å®¹, å¿…é¡»åœ¨ MVP é˜¶æ®µå°±å…·å¤‡è‰¯å¥½çš„ SEO å’Œç¤¾äº¤åˆ†äº«ä½“éªŒã€‚

**åŠ¨æ€ OG Meta Tags (Next.js App Router `generateMetadata`):**

```typescript
// app/(main)/paper/[id]/page.tsx
export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const paper = await getPaper(params.id);
  const venue = await getVenue(paper.venue_id);

  return {
    title: `${paper.title} | Rubber`,
    description: paper.abstract?.slice(0, 160) || 'ä¸€ç¯‡ç»è®¤è¯çš„å­¦æœ¯åƒåœ¾',
    openGraph: {
      title: paper.title,
      description: paper.abstract?.slice(0, 160),
      type: 'article',
      url: `https://rubber.pub/paper/${paper.id}`,
      images: [`/api/og/paper?id=${paper.id}`],  // åŠ¨æ€ OG Image
      siteName: 'Rubber',
    },
    twitter: {
      card: 'summary_large_image',
      title: paper.title,
      description: paper.abstract?.slice(0, 160),
      images: [`/api/og/paper?id=${paper.id}`],
    },
  };
}
```

**åŠ¨æ€ OG Image ç”Ÿæˆ (Vercel OG / `@vercel/og`):**

```typescript
// app/api/og/paper/route.tsx
import { ImageResponse } from '@vercel/og';

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const paperId = searchParams.get('id');
  const paper = await getPaper(paperId);

  return new ImageResponse(
    (
      <div style={{ display: 'flex', flexDirection: 'column', width: '1200px', height: '630px',
        background: 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)', padding: '60px', color: 'white' }}>
        <div style={{ fontSize: 24, opacity: 0.7 }}>ğŸ—‘ï¸ Rubber Â· {paper.venue_name}</div>
        <div style={{ fontSize: 48, fontWeight: 'bold', marginTop: 20, lineClamp: 3 }}>{paper.title}</div>
        <div style={{ fontSize: 24, opacity: 0.6, marginTop: 'auto' }}>
          åƒåœ¾è¯„åˆ†: {paper.avg_rubbish_score}/10 Â· {paper.review_count} ä»½è¯„å®¡ Â· {paper.upvote_count} ç‚¹èµ
        </div>
      </div>
    ),
    { width: 1200, height: 630 }
  );
}
```

**å„é¡µé¢ SEO ç­–ç•¥:**

| é¡µé¢ | title æ¨¡æ¿ | ç´¢å¼•ç­–ç•¥ |
|------|-----------|---------|
| é¦–é¡µ | `Rubber â€” We only accept rubbish` | index, follow |
| è®ºæ–‡è¯¦æƒ… | `{paper.title} \| Rubber` | index, follow (æ ¸å¿ƒ SEO é¡µé¢) |
| å­åˆŠä¸»é¡µ | `{venue.name} \| Rubber` | index, follow |
| ç”¨æˆ·ä¸»é¡µ | `{username} çš„åƒåœ¾æ¡£æ¡ˆ \| Rubber` | index, nofollow |
| æœç´¢é¡µ | `æœç´¢: {query} \| Rubber` | noindex, follow |
| æŠ•ç¨¿é¡µ | `æŠ•ç¨¿ \| Rubber` | noindex, nofollow |

**ç»“æ„åŒ–æ•°æ® (JSON-LD):**

è®ºæ–‡è¯¦æƒ…é¡µè¾“å‡º `ScholarlyArticle` ç»“æ„åŒ–æ•°æ®, æå‡æœç´¢å¼•æ“ç†è§£:

```json
{
  "@context": "https://schema.org",
  "@type": "ScholarlyArticle",
  "headline": "è®ºæ–‡æ ‡é¢˜",
  "author": [{ "@type": "Person", "name": "ä½œè€…å" }],
  "datePublished": "2026-01-01",
  "publisher": { "@type": "Organization", "name": "Rubber" }
}
```

---

## 5. æ•°æ®æ¨¡å‹è®¾è®¡ (Supabase / PostgreSQL)

### 5.1 æ ¸å¿ƒè¡¨ç»“æ„

```sql
-- ============================================================
-- ç”¨æˆ·ç³»ç»Ÿ
-- ============================================================

-- ç”¨æˆ·è¡¨ (æ‰©å±• Supabase auth.users)
CREATE TABLE profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  username TEXT UNIQUE NOT NULL,
  display_name TEXT,
  avatar_url TEXT,
  bio TEXT,
  institution TEXT,           -- æœºæ„/å­¦æ ¡
  research_field TEXT,        -- ç ”ç©¶é¢†åŸŸ
  title TEXT,                 -- å¤´è¡” (å¦‚ "é¦–å¸­åƒåœ¾é‰´å®šå¸ˆ")
  karma INTEGER DEFAULT 0,   -- ç¤¾åŒºç§¯åˆ†
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- ============================================================
-- å­åˆŠç³»ç»Ÿ (Venues)
-- ============================================================

CREATE TABLE venues (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  slug TEXT UNIQUE NOT NULL,               -- URL æ ‡è¯†, å¦‚ "rubber-chemistry"
  name TEXT NOT NULL,                       -- å¦‚ "Rubber Chemistry"
  subtitle TEXT,                            -- å¦‚ "International Journal of Useless Materials"
  description TEXT,
  cover_image_url TEXT,
  logo_url TEXT,
  impact_factor NUMERIC DEFAULT 0,         -- æ°¸è¿œä¸º 0 çš„å½±å“å› å­
  accepting_submissions BOOLEAN DEFAULT true,
  review_mode TEXT DEFAULT 'open',         -- 'open' | 'blind' | 'instant'
  created_at TIMESTAMPTZ DEFAULT now()
);

-- å­åˆŠç¼–è¾‘å›¢é˜Ÿ
CREATE TABLE venue_editors (
  venue_id UUID REFERENCES venues(id) ON DELETE CASCADE,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  role TEXT DEFAULT 'editor',              -- 'chief_editor' | 'editor'
  PRIMARY KEY (venue_id, user_id)
);

-- ============================================================
-- æŠ•ç¨¿ç³»ç»Ÿ (Papers / Submissions)
-- ============================================================

CREATE TABLE papers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  number SERIAL,                            -- è‡ªå¢ç¨¿ä»¶ç¼–å·
  venue_id UUID REFERENCES venues(id),
  author_id UUID REFERENCES profiles(id),
  title TEXT NOT NULL,
  abstract TEXT,
  keywords TEXT[],                          -- PostgreSQL æ•°ç»„
  content_type TEXT NOT NULL,               -- 'latex' | 'pdf' | 'markdown' | 'image'
  content_markdown TEXT,                    -- Markdown æ­£æ–‡ (å¦‚é€‚ç”¨)
  content_latex TEXT,                       -- LaTeX æºç  (å¦‚é€‚ç”¨)
  latex_template TEXT DEFAULT 'rubber',     -- LaTeX æ¨¡æ¿: 'rubber' (é»˜è®¤) | 'rubber-cn' (ä¸­æ–‡)
  latex_compile_status TEXT,                -- 'pending' | 'compiling' | 'success' | 'error'
  latex_compile_log TEXT,                   -- ç¼–è¯‘æ—¥å¿— (é”™è¯¯æ—¶å±•ç¤ºç»™ç”¨æˆ·)
  latex_source_url TEXT,                    -- LaTeX æºæ–‡ä»¶åŒ… URL (.zip, Supabase Storage)
  pdf_url TEXT,                             -- PDF æ–‡ä»¶ URL (ç¼–è¯‘äº§ç‰©æˆ–ç›´æ¥ä¸Šä¼ )
  image_urls TEXT[],                        -- å›¾ç‰‡ URL æ•°ç»„

  -- è¯„å®¡ç›¸å…³
  review_mode TEXT DEFAULT 'open',          -- 'open' | 'blind' | 'instant'
  status TEXT DEFAULT 'submitted',          -- 'submitted' | 'under_review' | 'published' | 'rejected_too_good'
  decision TEXT,                            -- 'certified_rubbish' | 'recyclable' | 'too_good'
  decision_at TIMESTAMPTZ,

  -- ç»Ÿè®¡ (ç”¨è§¦å‘å™¨æˆ–å®šæ—¶ä»»åŠ¡ç»´æŠ¤)
  upvote_count INTEGER DEFAULT 0,
  downvote_count INTEGER DEFAULT 0,
  comment_count INTEGER DEFAULT 0,
  bookmark_count INTEGER DEFAULT 0,
  view_count INTEGER DEFAULT 0,
  review_count INTEGER DEFAULT 0,

  -- è¯„å®¡èšåˆè¯„åˆ† (ç”±è§¦å‘å™¨åœ¨ reviews è¡¨å˜æ›´æ—¶è‡ªåŠ¨æ›´æ–°)
  avg_rubbish_score NUMERIC(3,1) DEFAULT 0,       -- å¹³å‡åƒåœ¾ç¨‹åº¦
  avg_uselessness_score NUMERIC(3,1) DEFAULT 0,   -- å¹³å‡æ— ç”¨ç¨‹åº¦
  avg_entertainment_score NUMERIC(3,1) DEFAULT 0, -- å¹³å‡å¨±ä¹ä»·å€¼
  hot_score NUMERIC DEFAULT 0,                    -- çƒ­é—¨æ’åºåˆ† (å®šæ—¶ä»»åŠ¡æ›´æ–°)

  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- å…±åŒä½œè€…å…³è”è¡¨ (æ›¿ä»£ JSONB, æ”¯æŒåå‘æŸ¥è¯¢ "æŸç”¨æˆ·å‚ä¸çš„æ‰€æœ‰è®ºæ–‡")
CREATE TABLE paper_authors (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  paper_id UUID REFERENCES papers(id) ON DELETE CASCADE,
  user_id UUID REFERENCES profiles(id) ON DELETE SET NULL,  -- å¹³å°å†…ç”¨æˆ· (å¯é€‰)
  name TEXT NOT NULL,                     -- æ˜¾ç¤ºå (å¹³å°å¤–ä½œè€…ä¹Ÿå¯å¡«å†™)
  institution TEXT,                       -- æœºæ„
  email TEXT,                             -- è”ç³»é‚®ç®± (å¯é€‰)
  position INTEGER DEFAULT 0,            -- ä½œè€…æ’åºä½ç½®
  is_corresponding BOOLEAN DEFAULT false, -- æ˜¯å¦é€šè®¯ä½œè€…
  created_at TIMESTAMPTZ DEFAULT now(),
  UNIQUE (paper_id, position)
);

CREATE INDEX paper_authors_user_idx ON paper_authors(user_id);
CREATE INDEX paper_authors_paper_idx ON paper_authors(paper_id);

-- å…¨æ–‡æœç´¢ç´¢å¼• (è‹±æ–‡; ä¸­æ–‡æ–¹æ¡ˆè§ 6.4 èŠ‚)
CREATE INDEX papers_search_idx ON papers
  USING GIN (to_tsvector('english', coalesce(title,'') || ' ' || coalesce(abstract,'')));

-- è§¦å‘å™¨: è¯„å®¡æäº¤/æ›´æ–°æ—¶è‡ªåŠ¨åˆ·æ–° papers èšåˆè¯„åˆ†
CREATE OR REPLACE FUNCTION update_paper_review_stats()
RETURNS TRIGGER AS $$
BEGIN
  UPDATE papers SET
    review_count = (SELECT count(*) FROM reviews WHERE paper_id = COALESCE(NEW.paper_id, OLD.paper_id)),
    avg_rubbish_score = (SELECT ROUND(AVG(rubbish_score)::numeric, 1) FROM reviews WHERE paper_id = COALESCE(NEW.paper_id, OLD.paper_id)),
    avg_uselessness_score = (SELECT ROUND(AVG(uselessness_score)::numeric, 1) FROM reviews WHERE paper_id = COALESCE(NEW.paper_id, OLD.paper_id)),
    avg_entertainment_score = (SELECT ROUND(AVG(entertainment_score)::numeric, 1) FROM reviews WHERE paper_id = COALESCE(NEW.paper_id, OLD.paper_id)),
    updated_at = now()
  WHERE id = COALESCE(NEW.paper_id, OLD.paper_id);
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_review_stats
  AFTER INSERT OR UPDATE OR DELETE ON reviews
  FOR EACH ROW EXECUTE FUNCTION update_paper_review_stats();

-- ============================================================
-- è¯„å®¡ç³»ç»Ÿ (Reviews) â€” å¯¹æ ‡ OpenReview
-- ============================================================

CREATE TABLE reviews (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  paper_id UUID REFERENCES papers(id) ON DELETE CASCADE,
  reviewer_id UUID REFERENCES profiles(id),
  is_anonymous BOOLEAN DEFAULT false,

  -- ç»“æ„åŒ–è¯„åˆ†
  rubbish_score INTEGER CHECK (rubbish_score BETWEEN 1 AND 10),     -- åƒåœ¾ç¨‹åº¦
  uselessness_score INTEGER CHECK (uselessness_score BETWEEN 1 AND 10), -- æ— ç”¨ç¨‹åº¦
  entertainment_score INTEGER CHECK (entertainment_score BETWEEN 1 AND 10), -- å¨±ä¹ä»·å€¼

  -- æ–‡å­—è¯„å®¡
  summary TEXT,                 -- æ€»ç»“
  strengths TEXT,               -- ä¼˜ç‚¹
  weaknesses TEXT,              -- "ç¼ºç‚¹" (è¤’ä¹‰)
  recommendation TEXT,          -- 'certified_rubbish' | 'recyclable' | 'too_good'

  -- äº’åŠ¨ç»Ÿè®¡
  upvote_count INTEGER DEFAULT 0,

  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- ä½œè€…å›å¤ (Rebuttal)
CREATE TABLE rebuttals (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  review_id UUID REFERENCES reviews(id) ON DELETE CASCADE,
  author_id UUID REFERENCES profiles(id),
  content TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ============================================================
-- ç¤¾åŒºäº’åŠ¨ (Comments / Reactions / Bookmarks)
-- ============================================================

-- è‡ªç”±è¯„è®º (æ”¯æŒåµŒå¥—å›å¤)
CREATE TABLE comments (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  paper_id UUID REFERENCES papers(id) ON DELETE CASCADE,
  user_id UUID REFERENCES profiles(id),
  parent_id UUID REFERENCES comments(id),  -- åµŒå¥—å›å¤
  content TEXT NOT NULL,
  upvote_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- æŠ•ç¥¨ (è®ºæ–‡ + è¯„è®º + è¯„å®¡)
CREATE TABLE votes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  target_type TEXT NOT NULL,               -- 'paper' | 'comment' | 'review'
  target_id UUID NOT NULL,
  value SMALLINT NOT NULL CHECK (value IN (-1, 1)),  -- +1 æˆ– -1
  created_at TIMESTAMPTZ DEFAULT now(),
  UNIQUE (user_id, target_type, target_id)
);

-- è¡¨æƒ…ååº”
CREATE TABLE reactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  target_type TEXT NOT NULL,               -- 'paper' | 'comment'
  target_id UUID NOT NULL,
  emoji TEXT NOT NULL,                     -- 'ğŸ—‘ï¸' | 'ğŸ’©' | 'ğŸ”¥' | 'ğŸ˜‚' | 'ğŸ†' | 'â™»ï¸'
  created_at TIMESTAMPTZ DEFAULT now(),
  UNIQUE (user_id, target_type, target_id, emoji)
);

-- æ”¶è—
CREATE TABLE bookmarks (
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  paper_id UUID REFERENCES papers(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT now(),
  PRIMARY KEY (user_id, paper_id)
);

-- ============================================================
-- æˆå°±ç³»ç»Ÿ
-- ============================================================

CREATE TABLE achievements (
  id TEXT PRIMARY KEY,                     -- å¦‚ 'first_rubbish', 'review_master'
  name TEXT NOT NULL,
  description TEXT,
  icon TEXT,                               -- Emoji æˆ–å›¾æ ‡ URL
  condition_type TEXT,                     -- è§¦å‘æ¡ä»¶ç±»å‹
  condition_value INTEGER                  -- è§¦å‘é˜ˆå€¼
);

CREATE TABLE user_achievements (
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  achievement_id TEXT REFERENCES achievements(id),
  unlocked_at TIMESTAMPTZ DEFAULT now(),
  PRIMARY KEY (user_id, achievement_id)
);

-- ============================================================
-- é€šçŸ¥ç³»ç»Ÿ
-- ============================================================

CREATE TABLE notifications (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  type TEXT NOT NULL,                      -- 'new_review' | 'new_comment' | 'decision' | 'achievement' | 'mention'
  title TEXT NOT NULL,
  body TEXT,
  link TEXT,                               -- è·³è½¬é“¾æ¥
  is_read BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT now()
);
```

### 5.2 Row Level Security (RLS) ç­–ç•¥è¦ç‚¹

```sql
-- è®ºæ–‡: æ‰€æœ‰äººå¯è¯», ä½œè€…å¯æ”¹è‡ªå·±çš„
ALTER TABLE papers ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public read" ON papers FOR SELECT USING (true);
CREATE POLICY "Author insert" ON papers FOR INSERT WITH CHECK (auth.uid() = author_id);
CREATE POLICY "Author update" ON papers FOR UPDATE USING (auth.uid() = author_id);

-- è¯„å®¡: æ‰€æœ‰äººå¯è¯», è¯„å®¡å‘˜å¯å†™è‡ªå·±çš„
ALTER TABLE reviews ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Public read" ON reviews FOR SELECT USING (true);
CREATE POLICY "Reviewer insert" ON reviews FOR INSERT WITH CHECK (auth.uid() = reviewer_id);

-- é€šçŸ¥: åªèƒ½çœ‹è‡ªå·±çš„
ALTER TABLE notifications ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Own notifications" ON notifications FOR ALL USING (auth.uid() = user_id);

-- æŠ•ç¥¨: é˜²æ­¢é‡å¤æŠ•ç¥¨ç”± UNIQUE çº¦æŸä¿è¯
ALTER TABLE votes ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Own votes" ON votes FOR ALL USING (auth.uid() = user_id);
```

---

## 6. æŠ€æœ¯æ¶æ„

### 6.1 æŠ€æœ¯é€‰å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·æµè§ˆå™¨                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vercel (å‰ç«¯æ‰˜ç®¡ + Edge Functions)            â”‚
â”‚                                                         â”‚
â”‚  Next.js 15 (App Router)                                â”‚
â”‚  â”œâ”€â”€ é¡µé¢ SSR / ISR (é¦–é¡µ Feed / è®ºæ–‡è¯¦æƒ…)                â”‚
â”‚  â”œâ”€â”€ API Routes â†’ Supabase Client                       â”‚
â”‚  â””â”€â”€ Edge Middleware (é‰´æƒ / é™æµ)                        â”‚
â”‚                                                         â”‚
â”‚  UI: Tailwind CSS + shadcn/ui                           â”‚
â”‚  LaTeX ç¼–è¾‘: CodeMirror 6 (LaTeX è¯­æ³•é«˜äº®)               â”‚
â”‚  Markdown: Tiptap (KaTeX å…¬å¼æ”¯æŒ)                       â”‚
â”‚  PDF é¢„è§ˆ: react-pdf (pdf.js)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Supabase   â”‚ â”‚ Supabase â”‚ â”‚   Supabase   â”‚
â”‚  PostgreSQL  â”‚ â”‚ Storage  â”‚ â”‚   Auth       â”‚
â”‚              â”‚ â”‚          â”‚ â”‚              â”‚
â”‚ - æ‰€æœ‰ä¸šåŠ¡è¡¨  â”‚ â”‚ - PDF    â”‚ â”‚ - Email/å¯†ç   â”‚
â”‚ - å…¨æ–‡æœç´¢   â”‚ â”‚ - å›¾ç‰‡    â”‚ â”‚ - GitHub OAuthâ”‚
â”‚ - RLS æƒé™   â”‚ â”‚ - å¤´åƒ    â”‚ â”‚ - Google OAuthâ”‚
â”‚ - Realtime   â”‚ â”‚          â”‚ â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Supabase Edge Functions         â”‚
â”‚                                          â”‚
â”‚  - æŠ•ç¨¿åè§¦å‘é€šçŸ¥                          â”‚
â”‚  - è¯„å®¡å®Œæˆåè®¡ç®—è¯„åˆ†                       â”‚
â”‚  - æˆå°±è§£é”æ£€æŸ¥                            â”‚
â”‚  - å®šæ—¶ä»»åŠ¡: çƒ­é—¨æ’åºæ›´æ–°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        LaTeX ç¼–è¯‘æœåŠ¡ (Docker)             â”‚
â”‚                                          â”‚
â”‚  - TeX Live å®Œæ•´å‘è¡Œç‰ˆ (å« xeCJK ä¸­æ–‡æ”¯æŒ)  â”‚
â”‚  - æ¥æ”¶ .tex æºç  â†’ xelatex ç¼–è¯‘ â†’ è¿”å› PDFâ”‚
â”‚  - éƒ¨ç½²: Railway / Fly.io / è‡ªå»º VPS       â”‚
â”‚  - API: POST /compile {tex, template}     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤–éƒ¨æœåŠ¡:
  â”œâ”€â”€ Resend â€” é‚®ä»¶é€šçŸ¥ (è¯„å®¡ç»“æœ / å‘¨æŠ¥)
  â”œâ”€â”€ Upstash Redis â€” é™æµ / ç¼“å­˜çƒ­é—¨ Feed
  â”œâ”€â”€ Vercel Analytics â€” æµé‡ç›‘æ§
  â””â”€â”€ LaTeX ç¼–è¯‘åç«¯ â€” Docker (TeX Live + xelatex)
```

### 6.2 å…³é”®æŠ€æœ¯å†³ç­–

| å†³ç­–ç‚¹ | é€‰æ‹© | ç†ç”± |
|--------|------|------|
| æ¡†æ¶ | Next.js 15 (App Router) | SSR + ISR + API Routes ä¸€ç«™å¼, Vercel åŸç”Ÿæ”¯æŒ |
| æ•°æ®åº“ | Supabase (PostgreSQL) | å†…ç½® Auth/Storage/Realtime, å…è´¹é¢åº¦å¤Ÿ MVP |
| æ–‡ä»¶å­˜å‚¨ | Supabase Storage | ä¸æ•°æ®åº“åŒå¹³å°, è‡ªåŠ¨ CDN |
| è®¤è¯ | Supabase Auth | å¼€ç®±å³ç”¨, æ”¯æŒ OAuth, ä¸ RLS æ— ç¼é›†æˆ |
| å®æ—¶åŠŸèƒ½ | Supabase Realtime | è¯„è®ºå®æ—¶æ¨é€, æ— éœ€é¢å¤– WebSocket æœåŠ¡ |
| éƒ¨ç½² | Vercel | ä¸ Next.js æ·±åº¦é›†æˆ, è‡ªåŠ¨é¢„è§ˆéƒ¨ç½² |
| CSS | Tailwind + shadcn/ui | å¼€å‘é€Ÿåº¦å¿«, ç»„ä»¶è´¨é‡é«˜ |
| LaTeX ç¼–è¾‘å™¨ | CodeMirror 6 + @codemirror/lang-latex | è½»é‡ã€è¯­æ³•é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨, å¯åµŒå…¥ Web |
| LaTeX ç¼–è¯‘ | è‡ªå»º Docker (TeX Live + xelatex) | æ”¯æŒä¸­æ–‡ (xeCJK), å®Œæ•´å®åŒ…; éƒ¨ç½²äº Railway/Fly.io |
| LaTeX æ¨¡æ¿ | åŸºäº arXiv æ¨¡æ¿ä¿®æ”¹çš„ Rubber æ¨¡æ¿ | ä¿æŒå­¦æœ¯ä¸¥è‚ƒæ„Ÿ, å¢åŠ  Rubber å“ç‰Œå…ƒç´ å’Œä¸­æ–‡æ”¯æŒ |
| Markdown ç¼–è¾‘ | Tiptap + KaTeX | å¯æ‰©å±•, æ”¯æŒ Markdown å¿«æ·é”® + æ•°å­¦å…¬å¼ |
| PDF æ¸²æŸ“ | react-pdf | æˆç†Ÿç¨³å®š, åŸºäº pdf.js |
| é‚®ä»¶ | Resend | å¼€å‘ä½“éªŒå¥½, å…è´¹é¢åº¦ 3000/æœˆ |
| ç¼“å­˜/é™æµ | Upstash Redis | Serverless Redis, æŒ‰ç”¨é‡ä»˜è´¹ |
| æœç´¢ | PostgreSQL GIN + tsvector | MVP é˜¶æ®µå¤Ÿç”¨, åæœŸå¯è¿ç§» Algolia |

### 6.3 ç›®å½•ç»“æ„

```
rubber/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â””â”€â”€ register/page.tsx
â”‚   â”œâ”€â”€ (main)/
â”‚   â”‚   â”œâ”€â”€ page.tsx              # é¦–é¡µ Feed
â”‚   â”‚   â”œâ”€â”€ paper/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/page.tsx     # è®ºæ–‡è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ submit/page.tsx   # æŠ•ç¨¿é¡µ
â”‚   â”‚   â”œâ”€â”€ venue/
â”‚   â”‚   â”‚   â””â”€â”€ [slug]/page.tsx   # å­åˆŠä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â””â”€â”€ [username]/page.tsx
â”‚   â”‚   â”œâ”€â”€ search/page.tsx
â”‚   â”‚   â””â”€â”€ notifications/page.tsx
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ papers/route.ts
â”‚   â”‚   â”œâ”€â”€ reviews/route.ts
â”‚   â”‚   â”œâ”€â”€ comments/route.ts
â”‚   â”‚   â”œâ”€â”€ latex/
â”‚   â”‚   â”‚   â”œâ”€â”€ compile/route.ts  # LaTeX ç¼–è¯‘ (è°ƒç”¨ç¼–è¯‘æœåŠ¡)
â”‚   â”‚   â”‚   â””â”€â”€ template/route.ts # è·å– LaTeX æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ webhooks/route.ts
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui ç»„ä»¶
â”‚   â”œâ”€â”€ paper/
â”‚   â”‚   â”œâ”€â”€ PaperCard.tsx         # Feed ä¸­çš„è®ºæ–‡å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ PaperViewer.tsx       # PDF/Markdown/LaTeX æ¸²æŸ“
â”‚   â”‚   â”œâ”€â”€ LatexEditor.tsx       # LaTeX åœ¨çº¿ç¼–è¾‘å™¨ (CodeMirror 6)
â”‚   â”‚   â”œâ”€â”€ LatexPreview.tsx      # LaTeX ç¼–è¯‘é¢„è§ˆ (PDF)
â”‚   â”‚   â”œâ”€â”€ ReviewForm.tsx        # ç»“æ„åŒ–è¯„å®¡è¡¨å•
â”‚   â”‚   â”œâ”€â”€ ReviewCard.tsx        # è¯„å®¡æ„è§å±•ç¤º
â”‚   â”‚   â”œâ”€â”€ RebuttalForm.tsx      # ä½œè€…å›å¤
â”‚   â”‚   â””â”€â”€ SubmitForm.tsx        # æŠ•ç¨¿å¤šæ­¥è¡¨å•
â”‚   â”œâ”€â”€ community/
â”‚   â”‚   â”œâ”€â”€ CommentThread.tsx     # åµŒå¥—è¯„è®º
â”‚   â”‚   â”œâ”€â”€ VoteButton.tsx        # æŠ•ç¥¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ReactionBar.tsx       # è¡¨æƒ…ååº”
â”‚   â”‚   â”œâ”€â”€ BookmarkButton.tsx    # æ”¶è—
â”‚   â”‚   â””â”€â”€ ShareCard.tsx         # åˆ†äº«å¡ç‰‡ç”Ÿæˆ
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â””â”€â”€ profile/
â”‚       â”œâ”€â”€ AchievementBadge.tsx
â”‚       â””â”€â”€ StatsCard.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts             # æµè§ˆå™¨ç«¯ Supabase å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ server.ts             # æœåŠ¡ç«¯ Supabase å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ middleware.ts         # Auth ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ latex/
â”‚   â”‚   â”œâ”€â”€ compiler.ts           # LaTeX ç¼–è¯‘æœåŠ¡å®¢æˆ·ç«¯ (è°ƒç”¨ Docker API)
â”‚   â”‚   â”œâ”€â”€ templates.ts          # æ¨¡æ¿åŠ è½½ä¸ç®¡ç†
â”‚   â”‚   â””â”€â”€ validators.ts         # LaTeX æºç å®‰å…¨æ ¡éªŒ
â”‚   â”œâ”€â”€ utils.ts
â”‚   â””â”€â”€ constants.ts
â”œâ”€â”€ templates/                     # LaTeX æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ rubber/                    # è‹±æ–‡æ¨¡æ¿ (åŸºäº arXiv ä¿®æ”¹)
â”‚   â”‚   â”œâ”€â”€ rubber.cls            # Rubber æ–‡æ¡£ç±»
â”‚   â”‚   â”œâ”€â”€ rubber.sty            # æ ·å¼åŒ…
â”‚   â”‚   â”œâ”€â”€ rubber-logo.pdf       # Logo èµ„æº
â”‚   â”‚   â””â”€â”€ template.tex          # æ¨¡æ¿ç¤ºä¾‹æ–‡ä»¶
â”‚   â””â”€â”€ rubber-cn/                 # ä¸­æ–‡æ¨¡æ¿ (xeCJK)
â”‚       â”œâ”€â”€ rubber-cn.cls         # ä¸­æ–‡æ–‡æ¡£ç±»
â”‚       â”œâ”€â”€ rubber-cn.sty         # ä¸­æ–‡æ ·å¼åŒ… (xeCJK é…ç½®)
â”‚       â””â”€â”€ template-cn.tex       # ä¸­æ–‡æ¨¡æ¿ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ latex-service/                 # LaTeX ç¼–è¯‘æœåŠ¡ (ç‹¬ç«‹éƒ¨ç½²)
â”‚   â”œâ”€â”€ Dockerfile                # TeX Live + xelatex + ä¸­æ–‡å­—ä½“
â”‚   â”œâ”€â”€ server.ts                 # HTTP API æœåŠ¡ (Hono / Express)
â”‚   â”œâ”€â”€ compile.ts                # ç¼–è¯‘é€»è¾‘ (æ²™ç®±æ‰§è¡Œ)
â”‚   â””â”€â”€ fonts/                    # ä¸­æ–‡å­—ä½“ (Noto Sans CJK ç­‰)
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ migrations/               # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ 001_initial_schema.sql
â”‚   â”œâ”€â”€ functions/                # Edge Functions
â”‚   â”‚   â”œâ”€â”€ on-paper-submit/      # æŠ•ç¨¿åè§¦å‘ (å« LaTeX ç¼–è¯‘)
â”‚   â”‚   â”œâ”€â”€ on-review-submit/
â”‚   â”‚   â””â”€â”€ update-hot-ranking/
â”‚   â””â”€â”€ seed.sql                  # åˆå§‹æ•°æ® (å­åˆŠã€æˆå°±ç­‰)
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ og/                       # OG Image æ¨¡æ¿
â”‚   â””â”€â”€ badges/                   # æˆå°±å›¾æ ‡
â”œâ”€â”€ middleware.ts                  # Vercel Edge Middleware
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ package.json
â””â”€â”€ .env.local
```

### 6.4 æœç´¢æ–¹æ¡ˆ (å«ä¸­æ–‡æ”¯æŒ)

PostgreSQL å†…ç½® `tsvector` ä»…æ”¯æŒè‹±æ–‡åˆ†è¯ï¼Œè€Œ Rubber çš„æ ¸å¿ƒç”¨æˆ·ç¾¤ä½“ä¸ºä¸­æ–‡ç§‘ç ”äººï¼Œéœ€è¦ä¸­æ–‡å…¨æ–‡æœç´¢èƒ½åŠ›ã€‚

**åˆ†é˜¶æ®µæ–¹æ¡ˆï¼š**

| é˜¶æ®µ | æ–¹æ¡ˆ | è¯´æ˜ |
|------|------|------|
| MVP | PostgreSQL `LIKE` + `tsvector` åŒè·¯æœç´¢ | è‹±æ–‡èµ° tsvector GIN ç´¢å¼•; ä¸­æ–‡èµ° `ILIKE '%å…³é”®è¯%'` + `pg_trgm` ä¸‰å…ƒç»„ç´¢å¼• (æ¨¡ç³ŠåŒ¹é…, æ€§èƒ½å¯æ¥å—åˆ° 10 ä¸‡æ¡) |
| Phase 2 | Meilisearch (è‡ªæ‰˜ç®¡) æˆ– Supabase å†…ç½®æœç´¢ | Meilisearch åŸç”Ÿæ”¯æŒä¸­æ–‡åˆ†è¯, äºšç§’çº§å“åº”, Docker éƒ¨ç½²ç®€å•; å¯ç”¨ Meilisearch Cloud å…è´¹å±‚ (10K æ–‡æ¡£) |
| Phase 4 | Algolia / Typesense | å¦‚éœ€æ›´å¼ºçš„æœç´¢åˆ†æå’Œæ¨èèƒ½åŠ› |

**MVP é˜¶æ®µä¸­æ–‡æœç´¢å®ç°ï¼š**

```sql
-- å¯ç”¨ pg_trgm æ‰©å±• (Supabase å·²é¢„è£…)
CREATE EXTENSION IF NOT EXISTS pg_trgm;

-- ä¸‰å…ƒç»„ç´¢å¼•, æ”¯æŒä¸­æ–‡æ¨¡ç³Šæœç´¢
CREATE INDEX papers_title_trgm_idx ON papers USING GIN (title gin_trgm_ops);
CREATE INDEX papers_abstract_trgm_idx ON papers USING GIN (abstract gin_trgm_ops);
```

```typescript
// æœç´¢ API: ä¸­è‹±æ–‡åŒè·¯
async function searchPapers(query: string) {
  const isChineseQuery = /[\u4e00-\u9fa5]/.test(query);

  if (isChineseQuery) {
    // ä¸­æ–‡: pg_trgm æ¨¡ç³ŠåŒ¹é…
    return supabase
      .from('papers')
      .select('*')
      .or(`title.ilike.%${query}%,abstract.ilike.%${query}%`)
      .order('hot_score', { ascending: false })
      .limit(20);
  } else {
    // è‹±æ–‡: tsvector å…¨æ–‡æœç´¢
    return supabase
      .from('papers')
      .select('*')
      .textSearch('title_abstract_fts', query) // éœ€é…ç½® Supabase å…¨æ–‡æœç´¢åˆ—
      .order('hot_score', { ascending: false })
      .limit(20);
  }
}
```

### 6.5 å®æ—¶åŠŸèƒ½ä¸é™çº§æ–¹æ¡ˆ

Supabase Realtime å…è´¹å±‚é™åˆ¶ 200 å¹¶å‘è¿æ¥, éœ€è¦é™çº§ç­–ç•¥ã€‚

| åœºæ™¯ | æ–¹æ¡ˆ |
|------|------|
| å¹¶å‘ < 200 | Supabase Realtime è®¢é˜… notifications è¡¨, å®æ—¶æ¨é€ |
| å¹¶å‘ â‰¥ 200 | è‡ªåŠ¨é™çº§ä¸ºè½®è¯¢æ¨¡å¼: å‰ç«¯æ¯ 30 ç§’ GET /api/notifications/unread-count |
| è¯„è®ºå®æ—¶æ›´æ–° | ä»…è®ºæ–‡è¯¦æƒ…é¡µæ´»è·ƒç”¨æˆ·è®¢é˜…è¯¥ paper_id çš„è¯„è®ºå˜æ›´, ç¦»å¼€é¡µé¢å³å–æ¶ˆè®¢é˜… |
| è§„æ¨¡åŒ–å | è¿ç§»è‡³ Supabase Pro (500 å¹¶å‘) æˆ–è‡ªå»º WebSocket (Socket.io + Redis Pub/Sub) |

**å‰ç«¯å®ç°ï¼š**

```typescript
// è‡ªåŠ¨é™çº§: Realtime â†’ Polling
function useNotifications(userId: string) {
  const channel = supabase.channel(`notifications:${userId}`);
  const [fallbackPolling, setFallbackPolling] = useState(false);

  useEffect(() => {
    channel
      .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'notifications', filter: `user_id=eq.${userId}` },
        (payload) => handleNewNotification(payload.new))
      .subscribe((status) => {
        if (status === 'CHANNEL_ERROR') setFallbackPolling(true);
      });

    return () => { supabase.removeChannel(channel); };
  }, [userId]);

  // é™çº§è½®è¯¢
  useEffect(() => {
    if (!fallbackPolling) return;
    const interval = setInterval(() => fetchUnreadCount(), 30000);
    return () => clearInterval(interval);
  }, [fallbackPolling]);
}
```

### 6.6 LaTeX ç¼–è¯‘æ–¹æ¡ˆ

#### 6.6.1 Rubber LaTeX æ¨¡æ¿

åŸºäº arXiv æ ‡å‡†æ¨¡æ¿ä¿®æ”¹ï¼Œä¿æŒå­¦æœ¯è®ºæ–‡çš„ä¸¥è‚ƒæ’ç‰ˆï¼ŒåŒæ—¶èå…¥ Rubber å“ç‰Œå…ƒç´ ã€‚æä¾›è‹±æ–‡å’Œä¸­æ–‡ä¸¤å¥—æ¨¡æ¿ã€‚

**è‹±æ–‡æ¨¡æ¿ (`rubber.cls`) åŸºç¡€ç»“æ„ï¼š**

```latex
% rubber.cls â€” Rubber è‹±æ–‡è®ºæ–‡æ¨¡æ¿
% åŸºäº article ç±»ä¿®æ”¹, å‚è€ƒ arXiv å¸¸ç”¨æ’ç‰ˆè§„èŒƒ
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{rubber}[2026/01/01 Rubber Paper Template]

\LoadClass[11pt, a4paper, twocolumn]{article}

% æ ¸å¿ƒå®åŒ…
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{amsmath, amssymb, amsthm}   % æ•°å­¦ç¯å¢ƒ
\RequirePackage{graphicx}                    % å›¾ç‰‡
\RequirePackage{hyperref}                    % è¶…é“¾æ¥
\RequirePackage{natbib}                      % å‚è€ƒæ–‡çŒ®
\RequirePackage{booktabs}                    % è¡¨æ ¼
\RequirePackage{algorithm2e}                 % ç®—æ³•
\RequirePackage{xcolor}

% Rubber å“ç‰Œé…è‰²
\definecolor{rubberPrimary}{HTML}{1a1a2e}
\definecolor{rubberAccent}{HTML}{e94560}

% é¡µçœ‰: Rubber å“ç‰Œæ ‡è¯†
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\textcolor{rubberPrimary}{\textit{Rubber} â€” We only accept rubbish.}}
\fancyhead[R]{\small\thepage}
\fancyfoot[C]{\small\textcolor{gray}{Certified Rubbish \texttrademark}}

% æ ‡é¢˜æ ·å¼
\renewcommand{\maketitle}{%
  \twocolumn[%
    \begin{center}
      {\Large\bfseries\@title\par}
      \vskip 0.5em
      {\normalsize\@author\par}
      \vskip 0.5em
      {\small\@date\par}
      \vskip 1em
      \hrule
      \vskip 1em
    \end{center}
  ]%
}
```

**ä¸­æ–‡æ¨¡æ¿ (`rubber-cn.cls`) å…³é”®å·®å¼‚ï¼š**

```latex
% rubber-cn.cls â€” Rubber ä¸­æ–‡è®ºæ–‡æ¨¡æ¿
% åŸºäº rubber.cls, å¢åŠ  xeCJK ä¸­æ–‡æ”¯æŒ
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{rubber-cn}[2026/01/01 Rubber Chinese Paper Template]

\LoadClass[11pt, a4paper, twocolumn]{article}

% ä¸­æ–‡æ”¯æŒ (å¿…é¡»ä½¿ç”¨ xelatex ç¼–è¯‘)
\RequirePackage{xeCJK}
\setCJKmainfont{Noto Serif CJK SC}          % æ­£æ–‡å®‹ä½“
\setCJKsansfont{Noto Sans CJK SC}           % æ— è¡¬çº¿é»‘ä½“
\setCJKmonofont{Noto Sans Mono CJK SC}      % ç­‰å®½å­—ä½“

% ä¸­æ–‡æ ‡ç‚¹å’Œæ’ç‰ˆä¼˜åŒ–
\RequirePackage{indentfirst}                 % é¦–æ®µç¼©è¿›
\setlength{\parindent}{2em}                  % ç¼©è¿› 2 å­—ç¬¦

% ä¸­æ–‡æ‘˜è¦ç¯å¢ƒ
\renewenvironment{abstract}{%
  \begin{center}
    \textbf{æ‘˜\quad è¦}
  \end{center}
  \small
}{}

% ä¸­æ–‡å…³é”®è¯
\newcommand{\keywords}[1]{%
  \vskip 0.5em
  \noindent\textbf{å…³é”®è¯ï¼š}#1
}

% å…¶ä½™ç»§æ‰¿è‹±æ–‡æ¨¡æ¿çš„å“ç‰Œå…ƒç´ å’Œæ’ç‰ˆè§„èŒƒ
% ...
```

**æ¨¡æ¿ä½¿ç”¨ç¤ºä¾‹ (ç”¨æˆ·çœ‹åˆ°çš„åˆå§‹å†…å®¹)ï¼š**

```latex
\documentclass{rubber}        % è‹±æ–‡æŠ•ç¨¿
% \documentclass{rubber-cn}   % ä¸­æ–‡æŠ•ç¨¿

\title{Why My Experiment Failed: A Comprehensive Study of Nothing}
\author{Anonymous Researcher \\ Department of Useless Studies}
\date{\today}

\begin{document}
\maketitle

\begin{abstract}
We present a thorough investigation into why absolutely nothing worked.
Our results confirm that failure is, indeed, the only reliable outcome.
\end{abstract}

\section{Introduction}
It all started when the funding ran out...

\section{Methods}
We tried everything. Nothing worked.

\section{Results}
See title.

\section{Conclusion}
We conclude that this paper is certified rubbish.

\bibliographystyle{plainnat}
\bibliography{references}

\end{document}
```

#### 6.6.2 LaTeX ç¼–è¯‘æœåŠ¡

**æ¶æ„ï¼šç‹¬ç«‹ Docker å¾®æœåŠ¡ï¼Œé€šè¿‡ HTTP API æ¥æ”¶ LaTeX æºç å¹¶è¿”å›ç¼–è¯‘åçš„ PDFã€‚**

```
å‰ç«¯ (CodeMirror ç¼–è¾‘å™¨)
    â”‚
    â–¼ POST /api/latex/compile
Next.js API Route (ä»£ç† + é‰´æƒ + é™æµ)
    â”‚
    â–¼ POST /compile
LaTeX ç¼–è¯‘æœåŠ¡ (Docker)
    â”‚
    â”œâ”€â”€ 1. æ¥æ”¶ .tex æºç  + æ¨¡æ¿å
    â”œâ”€â”€ 2. å†™å…¥ä¸´æ—¶ç›®å½• (æ¯æ¬¡ç¼–è¯‘ç‹¬ç«‹æ²™ç®±)
    â”œâ”€â”€ 3. å¤åˆ¶å¯¹åº”æ¨¡æ¿æ–‡ä»¶ (.cls, .sty, å­—ä½“)
    â”œâ”€â”€ 4. æ‰§è¡Œ xelatex (è¶…æ—¶ 60 ç§’, å†…å­˜é™åˆ¶ 512MB)
    â”œâ”€â”€ 5. å¦‚æœ‰ .bib â†’ æ‰§è¡Œ bibtex â†’ å†æ¬¡ xelatex Ã— 2
    â”œâ”€â”€ 6. æˆåŠŸ â†’ è¿”å› PDF (äºŒè¿›åˆ¶)
    â”œâ”€â”€ 7. å¤±è´¥ â†’ è¿”å›ç¼–è¯‘æ—¥å¿— (é”™è¯¯ä¿¡æ¯)
    â””â”€â”€ 8. æ¸…ç†ä¸´æ—¶ç›®å½•
```

**ç¼–è¯‘æœåŠ¡ Dockerfileï¼š**

```dockerfile
FROM texlive/texlive:latest

# å®‰è£…ä¸­æ–‡å­—ä½“
RUN apt-get update && apt-get install -y \
    fonts-noto-cjk \
    fonts-noto-cjk-extra \
    && rm -rf /var/lib/apt/lists/*

# å®‰è£… Node.js (API æœåŠ¡)
RUN curl -fsSL https://deb.nodesource.com/setup_20.x | bash - \
    && apt-get install -y nodejs

WORKDIR /app
COPY package.json server.ts compile.ts ./
RUN npm install

# å¤åˆ¶ Rubber æ¨¡æ¿
COPY templates/ /app/templates/

EXPOSE 3001
CMD ["npx", "tsx", "server.ts"]
```

**ç¼–è¯‘ API æ¥å£ï¼š**

```typescript
// latex-service/server.ts
import { Hono } from 'hono';

const app = new Hono();

app.post('/compile', async (c) => {
  const { tex, template = 'rubber', paperId } = await c.req.json();

  // å®‰å…¨æ ¡éªŒ: ç¦æ­¢å±é™©å‘½ä»¤
  if (/\\(input|include|write18|immediate|openout)/.test(tex)) {
    return c.json({ error: 'åŒ…å«ä¸å…è®¸çš„ LaTeX å‘½ä»¤' }, 400);
  }

  const result = await compileLaTeX(tex, template);

  if (result.success) {
    return new Response(result.pdf, {
      headers: { 'Content-Type': 'application/pdf' },
    });
  } else {
    return c.json({
      error: 'Compilation failed',
      log: result.log.slice(-2000),  // è¿”å›æœ€å 2000 å­—ç¬¦çš„æ—¥å¿—
    }, 422);
  }
});
```

**å®‰å…¨æ²™ç®±æªæ–½ï¼š**

| æªæ–½ | è¯´æ˜ |
|------|------|
| å‘½ä»¤ç™½åå• | ç¦æ­¢ `\write18`ã€`\input{/etc/...}` ç­‰å±é™©å‘½ä»¤ |
| è¶…æ—¶é™åˆ¶ | å•æ¬¡ç¼–è¯‘æœ€é•¿ 60 ç§’, è¶…æ—¶è‡ªåŠ¨ kill |
| å†…å­˜é™åˆ¶ | æ¯æ¬¡ç¼–è¯‘ 512MB ä¸Šé™ (Docker `--memory`) |
| ä¸´æ—¶ç›®å½•éš”ç¦» | æ¯æ¬¡ç¼–è¯‘ä½¿ç”¨ç‹¬ç«‹ `/tmp/compile-{uuid}/`, å®Œæˆååˆ é™¤ |
| ç½‘ç»œéš”ç¦» | ç¼–è¯‘å®¹å™¨ç¦æ­¢å¤–ç½‘è®¿é—® (`--network=none`) |
| é¢‘ç‡é™åˆ¶ | æ¯ç”¨æˆ·æ¯åˆ†é’Ÿæœ€å¤š 5 æ¬¡ç¼–è¯‘è¯·æ±‚ (Upstash Redis) |

#### 6.6.3 å‰ç«¯ LaTeX ç¼–è¾‘ä½“éªŒ

**ç¼–è¾‘å™¨åŠŸèƒ½ (CodeMirror 6)ï¼š**

- LaTeX è¯­æ³•é«˜äº® (`@codemirror/lang-latex` æˆ–è‡ªå®šä¹‰ Lezer è¯­æ³•)
- è‡ªåŠ¨è¡¥å…¨: `\begin{` â†’ è‡ªåŠ¨è¡¥å…¨ç¯å¢ƒå + `\end{}`
- æ‹¬å·åŒ¹é…: `{}`, `[]`, `$$`
- å¿«æ·é”®: `Ctrl+B` åŠ ç²—, `Ctrl+I` æ–œä½“, `Ctrl+M` æ’å…¥æ•°å­¦ç¯å¢ƒ
- é”™è¯¯æ ‡æ³¨: ç¼–è¯‘å¤±è´¥æ—¶åœ¨å¯¹åº”è¡Œå·æ ‡çº¢

**ç¼–è¾‘å™¨å¸ƒå±€ (æ¡Œé¢ç«¯)ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨¡æ¿é€‰æ‹©: [Rubber è‹±æ–‡ â–¼] [Rubber ä¸­æ–‡]  [ä¸Šä¼  .tex]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚                            â”‚
â”‚   CodeMirror ç¼–è¾‘å™¨      â”‚    PDF é¢„è§ˆ (react-pdf)     â”‚
â”‚   (LaTeX æºç )           â”‚    (ç¼–è¯‘åå®æ—¶æ›´æ–°)          â”‚
â”‚                         â”‚                            â”‚
â”‚                         â”‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ç¼–è¯‘] [ä¸‹è½½ .tex] [ä¸‹è½½ PDF]    ç¼–è¯‘çŠ¶æ€: âœ… æˆåŠŸ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç¼–è¯‘è§¦å‘ç­–ç•¥ï¼š**

- **æ‰‹åŠ¨ç¼–è¯‘**: ç‚¹å‡»"ç¼–è¯‘"æŒ‰é’®æˆ– `Ctrl+Enter`
- **è‡ªåŠ¨ç¼–è¯‘ (å¯é€‰)**: åœæ­¢è¾“å…¥ 3 ç§’åè‡ªåŠ¨è§¦å‘ (debounce), ç”¨æˆ·å¯åœ¨è®¾ç½®ä¸­å…³é—­
- **æäº¤æ—¶ç¼–è¯‘**: æŠ•ç¨¿æäº¤å‰å¼ºåˆ¶ç¼–è¯‘ä¸€æ¬¡, ç¡®ä¿ PDF å¯ç”¨

#### 6.6.4 LaTeX æŠ•ç¨¿çš„å®Œæ•´æµç¨‹

```
ç”¨æˆ·é€‰æ‹© "LaTeX" å†…å®¹ç±»å‹
    â”‚
    â”œâ”€â”€ é€‰æ‹©æ¨¡æ¿: Rubber è‹±æ–‡ / Rubber ä¸­æ–‡
    â”‚
    â–¼
åœ¨çº¿ç¼–è¾‘å™¨åŠ è½½æ¨¡æ¿åˆå§‹å†…å®¹
    â”‚
    â–¼
ç”¨æˆ·ç¼–è¾‘ LaTeX æºç  (æˆ–ä¸Šä¼ æœ¬åœ° .tex æ–‡ä»¶)
    â”‚
    â–¼
ç‚¹å‡»"ç¼–è¯‘é¢„è§ˆ" â†’ è°ƒç”¨ç¼–è¯‘æœåŠ¡
    â”‚
    â”œâ”€â”€ æˆåŠŸ â†’ å³ä¾§å±•ç¤º PDF é¢„è§ˆ
    â”‚          ç”¨æˆ·ç»§ç»­ç¼–è¾‘æˆ–æäº¤
    â”‚
    â””â”€â”€ å¤±è´¥ â†’ å±•ç¤ºç¼–è¯‘é”™è¯¯æ—¥å¿—
               ç¼–è¾‘å™¨æ ‡æ³¨é”™è¯¯è¡Œå·
               ç”¨æˆ·ä¿®æ”¹åé‡æ–°ç¼–è¯‘
    â”‚
    â–¼
ç”¨æˆ·ç‚¹å‡»"æäº¤"
    â”‚
    â–¼
ç³»ç»Ÿæ‰§è¡Œæœ€ç»ˆç¼–è¯‘ â†’ å­˜å‚¨:
    â”œâ”€â”€ LaTeX æºç  â†’ content_latex å­—æ®µ
    â”œâ”€â”€ æºæ–‡ä»¶åŒ… (.zip) â†’ Supabase Storage (latex_source_url)
    â”œâ”€â”€ ç¼–è¯‘å PDF â†’ Supabase Storage (pdf_url)
    â””â”€â”€ ç¼–è¯‘çŠ¶æ€ â†’ latex_compile_status = 'success'
```

---

## 7. åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡

### 7.1 æŠ•ç¨¿æ¨¡å—

**æŠ•ç¨¿è¡¨å• (å¤šæ­¥éª¤)**

```
Step 1: é€‰æ‹©å­åˆŠ
  â†’ å¡ç‰‡å¼é€‰æ‹©, å±•ç¤ºå„å­åˆŠç®€ä»‹å’Œå½“å‰å¾ç¨¿çŠ¶æ€

Step 2: åŸºæœ¬ä¿¡æ¯
  â†’ æ ‡é¢˜ (å¿…å¡«, å»ºè®® < 200 å­—)
  â†’ æ‘˜è¦ (å¿…å¡«, å»ºè®® < 500 å­—)
  â†’ å…³é”®è¯ (Tag è¾“å…¥, æœ€å¤š 5 ä¸ª)
  â†’ å…±åŒä½œè€… (å¯é€‰, å¯é‚€è¯·å¹³å°ç”¨æˆ·æˆ–å¡«å†™å¤–éƒ¨ä½œè€…)

Step 3: ä¸Šä¼ å†…å®¹
  â†’ å†…å®¹ç±»å‹åˆ‡æ¢: LaTeX (æ¨è) / PDF / Markdown / å›¾ç‰‡
  â†’ LaTeX: é€‰æ‹©æ¨¡æ¿ (Rubber è‹±æ–‡ / Rubber ä¸­æ–‡) â†’ åœ¨çº¿ç¼–è¾‘å™¨ (CodeMirror 6)
           æ”¯æŒä¸Šä¼ æœ¬åœ° .tex æ–‡ä»¶; ç¼–è¯‘é¢„è§ˆ (xelatex â†’ PDF); è¯¦è§ Â§6.6
  â†’ PDF: æ‹–æ‹½ä¸Šä¼ , æœ€å¤§ 20MB, ä¸Šä¼ è‡³ Supabase Storage
  â†’ Markdown: Tiptap ç¼–è¾‘å™¨, æ”¯æŒ KaTeX æ•°å­¦å…¬å¼
  â†’ å›¾ç‰‡: å¤šå›¾ä¸Šä¼ , æ”¯æŒæ‹–æ‹½æ’åº (å¿«é€ŸæŠ•ç¨¿æ¨¡å¼)

Step 4: è¯„å®¡åå¥½
  â†’ é—­çœ¼ç›²å®¡: ç³»ç»Ÿéšæœºåˆ†é… 2-3 ä½è¯„å®¡å‘˜
  â†’ å¼€æ”¾è¯„å®¡: ä»»ä½•äººå¯æäº¤è¯„å®¡
  â†’ æé€Ÿæ”¶å½•: è·³è¿‡è¯„å®¡, ç›´æ¥ Certified Rubbish

Step 5: é¢„è§ˆ & æäº¤
  â†’ æ¸²æŸ“æœ€ç»ˆæ•ˆæœé¢„è§ˆ
  â†’ ç¡®è®¤æäº¤ (æäº¤åæ ‡é¢˜/å†…å®¹ä¸å¯ä¿®æ”¹, å¯è¿½åŠ å‹˜è¯¯)
```

**æ–‡ä»¶ä¸Šä¼ æµç¨‹**

```
ç”¨æˆ·é€‰æ‹©æ–‡ä»¶
  â”‚
  â–¼
å‰ç«¯æ ¡éªŒ (ç±»å‹ + å¤§å°)
  â”‚
  â–¼
è°ƒç”¨ Supabase Storage API ä¸Šä¼ 
  â†’ è·¯å¾„: papers/{paper_id}/{filename}
  â†’ è®¾ç½®ä¸º public bucket (è®ºæ–‡å…¬å¼€è®¿é—®)
  â”‚
  â–¼
è·å– public URL â†’ å†™å…¥ papers è¡¨
```

### 7.2 è¯„å®¡æ¨¡å—

**ç»“æ„åŒ–è¯„å®¡è¡¨å•**

```typescript
interface ReviewFormData {
  // è¯„åˆ† (æ»‘å—ç»„ä»¶, 1-10)
  rubbishScore: number;       // åƒåœ¾ç¨‹åº¦: 1=å‡ ä¹ä¸åƒåœ¾ 10=ç™»å³°é€ æçš„åƒåœ¾
  uselessnessScore: number;   // æ— ç”¨ç¨‹åº¦: 1=ç•¥æœ‰ç”¨å¤„ 10=å¯¹äººç±»æ¯«æ— è´¡çŒ®
  entertainmentScore: number; // å¨±ä¹ä»·å€¼: 1=æ— èŠè‡³æ 10=ç¬‘åˆ°å¤´æ‰

  // æ–‡å­—è¯„å®¡
  summary: string;            // ä¸€å¥è¯æ€»ç»“è¿™ç¯‡åƒåœ¾
  strengths: string;          // äº®ç‚¹ (ä¸ºä»€ä¹ˆå®ƒæ˜¯å¥½åƒåœ¾?)
  weaknesses: string;         // ä¸è¶³ (å“ªé‡Œè¿˜ä¸å¤Ÿåƒåœ¾?)

  // æ¨èå†³å®š
  recommendation: 'certified_rubbish' | 'recyclable' | 'too_good';

  // é€‰é¡¹
  isAnonymous: boolean;       // æ˜¯å¦åŒ¿åè¯„å®¡
}
```

**è¯„å®¡å±•ç¤º**

- è¯„åˆ†ç”¨é›·è¾¾å›¾ (Recharts) å¯è§†åŒ–
- æ–‡å­—è¯„å®¡æŠ˜å å±•ç¤º, é»˜è®¤å±•å¼€æ‘˜è¦
- ä½œè€… Rebuttal ç´§è·Ÿåœ¨å¯¹åº”è¯„å®¡ä¸‹æ–¹
- è¯„å®¡å¯è¢«å…¶ä»–ç”¨æˆ·ç‚¹èµ

**è¯„å®¡åˆ†é… (é—­çœ¼ç›²å®¡æ¨¡å¼)**

```
æ–°æŠ•ç¨¿é€‰æ‹©é—­çœ¼ç›²å®¡
  â”‚
  â–¼
Supabase Edge Function è§¦å‘
  â”‚
  â–¼
ä»è¯¥å­åˆŠæ´»è·ƒç”¨æˆ·ä¸­æ’é™¤ä½œè€…åŠå…±åŒä½œè€…
  â”‚
  â–¼
æŒ‰ karma å€¼åŠ æƒéšæœºé€‰å– 2-3 ä½è¯„å®¡å‘˜
  â”‚
  â–¼
å‘é€é€šçŸ¥é‚®ä»¶ + ç«™å†…é€šçŸ¥
  â”‚
  â–¼
è¯„å®¡å‘˜åœ¨ 7 å¤©å†…æäº¤è¯„å®¡ (è¶…æ—¶è‡ªåŠ¨è½¬ä¸ºå¼€æ”¾è¯„å®¡)
```

### 7.3 ç¤¾åŒºäº’åŠ¨æ¨¡å—

**è¯„è®ºç³»ç»Ÿ**

- åµŒå¥—å›å¤ (æœ€å¤š 3 å±‚, è¶…è¿‡åæ‰å¹³åŒ–æ˜¾ç¤º)
- æ”¯æŒ Markdown è¯­æ³•
- æ”¯æŒ @æåŠç”¨æˆ· (è§¦å‘é€šçŸ¥)
- æ’åº: æœ€çƒ­ / æœ€æ–° / æœ€æ—©

**æŠ•ç¥¨ç³»ç»Ÿ**

- è®ºæ–‡ / è¯„å®¡ / è¯„è®º å‡å¯æŠ•ç¥¨ (+1 / -1)
- ä½¿ç”¨ä¹è§‚æ›´æ–° (Optimistic UI), è¯·æ±‚å¤±è´¥å›æ»š
- é˜²åˆ·: æ¯ç”¨æˆ·æ¯ç›®æ ‡å”¯ä¸€æŠ•ç¥¨ (æ•°æ®åº“ UNIQUE çº¦æŸ)

**Emoji ååº”**

- é¢„è®¾ 6 ä¸ªååº”: ğŸ—‘ï¸ ğŸ’© ğŸ”¥ ğŸ˜‚ ğŸ† â™»ï¸
- ç‚¹å‡»åˆ‡æ¢, æ˜¾ç¤ºè®¡æ•°å’Œå¤´åƒåˆ—è¡¨
- å®ç°: å•ç‹¬çš„ reactions è¡¨, å‰ç«¯èšåˆæ˜¾ç¤º

**æ”¶è—**

- ä¸€é”®æ”¶è—, æ”¶è—åˆ—è¡¨åœ¨ä¸ªäººä¸»é¡µæŸ¥çœ‹
- æ”¯æŒæŒ‰å­åˆŠ / æ—¶é—´æ’åº

### 7.4 æˆå°±ç³»ç»Ÿ

| æˆå°± ID | åç§° | å›¾æ ‡ | è§£é”æ¡ä»¶ |
|---------|------|------|---------|
| first_submit | åˆå…¥åƒåœ¾åœº | ğŸ—‘ï¸ | é¦–æ¬¡æŠ•ç¨¿ |
| certified_10 | åƒåœ¾å¤§å¸ˆ | ğŸ‘‘ | ç´¯è®¡ 10 ç¯‡ Certified Rubbish |
| too_good_1 | ä½ å¤ªä¼˜ç§€äº† | âŒ | è¢«åˆ¤å®š "Too Good, Rejected" |
| review_10 | åƒåœ¾é‰´å®šå¸ˆ | ğŸ” | å®Œæˆ 10 æ¬¡è¯„å®¡ |
| review_50 | é¦–å¸­é‰´å®šå®˜ | ğŸ›ï¸ | å®Œæˆ 50 æ¬¡è¯„å®¡ |
| popular_100 | ç½‘çº¢åƒåœ¾ | ğŸŒŸ | å•ç¯‡è·å¾— 100+ ç‚¹èµ |
| comment_king | è¯„è®ºä¹‹ç‹ | ğŸ’¬ | ç´¯è®¡ 100 æ¡è¯„è®º |
| all_venues | å…¨èƒ½åƒåœ¾ | ğŸŒˆ | åœ¨æ‰€æœ‰å­åˆŠå„æŠ•ç¨¿è‡³å°‘ 1 ç¯‡ |

**è§¦å‘æœºåˆ¶**: Supabase Database Webhook â†’ Edge Function â†’ æ£€æŸ¥æ¡ä»¶ â†’ è§£é”æˆå°± + å‘é€é€šçŸ¥

### 7.5 é€šçŸ¥ç³»ç»Ÿ

| é€šçŸ¥ç±»å‹ | è§¦å‘æ¡ä»¶ | æ¸ é“ |
|---------|---------|------|
| æ–°è¯„å®¡ | ä½ çš„è®ºæ–‡æ”¶åˆ°æ–°è¯„å®¡ | ç«™å†… + é‚®ä»¶ |
| æ–°è¯„è®º | ä½ çš„è®ºæ–‡/è¯„å®¡æ”¶åˆ°æ–°è¯„è®º | ç«™å†… |
| @æåŠ | æœ‰äººåœ¨è¯„è®ºä¸­ @ä½  | ç«™å†… |
| è¯„å®¡é‚€è¯· | è¢«åˆ†é…ä¸ºè¯„å®¡å‘˜ | ç«™å†… + é‚®ä»¶ |
| å†³å®šå…¬å¸ƒ | ä½ çš„è®ºæ–‡æœ‰äº†è¯„å®¡ç»“æœ | ç«™å†… + é‚®ä»¶ |
| æˆå°±è§£é” | è§£é”æ–°æˆå°± | ç«™å†… |

**å®ç°**: Supabase Realtime è®¢é˜… notifications è¡¨, å‰ç«¯å®æ—¶å¼¹çª—ã€‚é‚®ä»¶é€šè¿‡ Resend API åœ¨ Edge Function ä¸­å‘é€ã€‚

---

## 8. å­åˆŠ (Venues) ä½“ç³»

### 8.1 é¢„è®¾å­åˆŠ

| å­åˆŠ | Slug | å®šä½ |
|------|------|------|
| Rubber | `rubber` | ä¸»åˆŠ, ç»¼åˆç±», æ”¶å½•ä¸€åˆ‡å­¦æœ¯åƒåœ¾ |
| Rubber Chemistry | `rubber-chemistry` | åŒ–å­¦, æ”¶ç‡ä½äº 0.5% çš„å®éªŒ |
| Rubber Communications | `rubber-comms` | é€šä¿¡/ä¿¡å·å¤„ç†, ä¿¡å™ªæ¯”ä¸ºè´Ÿçš„ç ”ç©¶ |
| Rubber Biology | `rubber-bio` | ç”Ÿç‰©, å…»æ­»ç»†èƒçš„å¿ƒè·¯å†ç¨‹ |
| Rubber CS | `rubber-cs` | è®¡ç®—æœº, è·‘ä¸é€šçš„ä»£ç å’Œè¿‡æ‹Ÿåˆçš„æ¨¡å‹ |
| Rubber Physics | `rubber-physics` | ç‰©ç†, è¿åçƒ­åŠ›å­¦å®šå¾‹çš„å¥‡æ€å¦™æƒ³ |
| Rubber Math | `rubber-math` | æ•°å­¦, è¯æ˜äº†åŠé¡µå‘ç°æ¼æ´çš„å®šç† |

### 8.2 å­åˆŠè‡ªæ²»

- æ¯ä¸ªå­åˆŠæœ‰ 1 åä¸»ç¼– + è‹¥å¹²ç¼–è¾‘
- ä¸»ç¼–å¯è‡ªå®šä¹‰: å­åˆŠæè¿°ã€å°é¢ã€å¾ç¨¿è¦æ±‚ã€è¯„å®¡è§„åˆ™
- ä¸»ç¼–å¯ç½®é¡¶/ç²¾é€‰ç¨¿ä»¶
- æ–°å­åˆŠç”³è¯·: ç”¨æˆ·æäº¤ç”³è¯· â†’ å¹³å°ç®¡ç†å‘˜å®¡æ ¸

---

## 9. API è®¾è®¡ (Next.js API Routes)

### 9.1 ä¸»è¦ç«¯ç‚¹

```
Papers:
  GET    /api/papers              â€” åˆ—è¡¨ (åˆ†é¡µ/ç­›é€‰/æ’åº)
  GET    /api/papers/[id]         â€” è¯¦æƒ…
  POST   /api/papers              â€” åˆ›å»ºæŠ•ç¨¿
  PATCH  /api/papers/[id]         â€” æ›´æ–° (ä»…ä½œè€…, ä»…é™å…ƒæ•°æ®)
  DELETE /api/papers/[id]         â€” åˆ é™¤ (ä»…ä½œè€…, ä»…é™ submitted çŠ¶æ€)

Reviews:
  GET    /api/papers/[id]/reviews â€” æŸè®ºæ–‡çš„æ‰€æœ‰è¯„å®¡
  POST   /api/papers/[id]/reviews â€” æäº¤è¯„å®¡
  POST   /api/reviews/[id]/rebuttal â€” æäº¤ Rebuttal

Comments:
  GET    /api/papers/[id]/comments â€” æŸè®ºæ–‡çš„è¯„è®ºæ ‘
  POST   /api/papers/[id]/comments â€” å‘è¡¨è¯„è®º
  DELETE /api/comments/[id]        â€” åˆ é™¤è¯„è®º (ä»…ä½œè€…)

Interactions:
  POST   /api/vote                 â€” æŠ•ç¥¨ (upsert)
  POST   /api/react                â€” è¡¨æƒ…ååº” (toggle)
  POST   /api/bookmark             â€” æ”¶è— (toggle)

Venues:
  GET    /api/venues               â€” å­åˆŠåˆ—è¡¨
  GET    /api/venues/[slug]        â€” å­åˆŠè¯¦æƒ… + æŠ•ç¨¿åˆ—è¡¨

Users:
  GET    /api/users/[username]     â€” ç”¨æˆ·å…¬å¼€ä¿¡æ¯
  PATCH  /api/users/me             â€” æ›´æ–°ä¸ªäººèµ„æ–™

LaTeX:
  POST   /api/latex/compile         â€” ç¼–è¯‘ LaTeX æºç  â†’ è¿”å› PDF (ä»£ç†ç¼–è¯‘æœåŠ¡)
  GET    /api/latex/template/[name] â€” è·å–æ¨¡æ¿å†…å®¹ (rubber / rubber-cn)
  GET    /api/latex/source/[paperId]â€” è·å–è®ºæ–‡ LaTeX æºç  (ä»…ä½œè€…)

Notifications:
  GET    /api/notifications        â€” é€šçŸ¥åˆ—è¡¨
  PATCH  /api/notifications/read   â€” æ ‡è®°å·²è¯»
```

### 9.2 Feed æ’åºç®—æ³•

```typescript
// çƒ­é—¨æ’åº: æ”¹è‰¯ Reddit Hot Ranking
function hotScore(paper: Paper): number {
  const score = paper.upvote_count - paper.downvote_count;
  const order = Math.log10(Math.max(Math.abs(score), 1));
  const sign = score > 0 ? 1 : score < 0 ? -1 : 0;
  const ageHours = (Date.now() - paper.created_at.getTime()) / 3600000;

  // åƒåœ¾è¯„åˆ†åŠ æˆ: å¹³å‡åƒåœ¾åˆ†è¶Šé«˜, æ’åè¶Šé å‰
  const rubbishBonus = (paper.avg_rubbish_score || 5) / 10;

  return sign * order + rubbishBonus - ageHours / 24;
}
```

---

## 10. å¼€å‘è·¯çº¿å›¾

### Phase 0: ç§å­å‡†å¤‡ (1-2 å‘¨)

**ç›®æ ‡: ä¸Šçº¿å‰å†…å®¹ä¸ä¸ºç©º**

- [ ] é‚€è¯· 5-10 ä½ç§‘ç ” KOL, é¢„å…ˆæŠ•ç¨¿ 20-30 ç¯‡ç§å­å†…å®¹
- [ ] é¢„å†™ 3-5 ç¯‡ç¤ºèŒƒæ€§è¯„å®¡
- [ ] æ’°å†™"æŠ•ç¨¿æŒ‡å—"ç½®é¡¶å¸– (å¹½é»˜é£æ ¼)
- [ ] å‡†å¤‡é¦–æ‰¹é‚€è¯·ç  (å®šå‘å‘æ”¾)

### Phase 1: MVP (4-6 å‘¨, 1-2 äºº)

**ç›®æ ‡: èƒ½æŠ•ç¨¿ã€èƒ½è¯„å®¡ã€èƒ½è¯„è®ºã€èƒ½ä¼ æ’­**

- [ ] é¡¹ç›®åˆå§‹åŒ– (Next.js + Supabase + Vercel)
- [ ] ç”¨æˆ·è®¤è¯ (Supabase Auth, Email + GitHub OAuth)
- [ ] é‚€è¯·ç æ³¨å†Œæœºåˆ¶ (å†·å¯åŠ¨é˜¶æ®µé™åˆ¶æ³¨å†Œ)
- [ ] ç”¨æˆ· Profile åŸºç¡€é¡µé¢
- [ ] Rubber LaTeX æ¨¡æ¿å¼€å‘ (è‹±æ–‡ rubber.cls + ä¸­æ–‡ rubber-cn.cls, åŸºäº arXiv æ¨¡æ¿)
- [ ] LaTeX ç¼–è¯‘æœåŠ¡ (Docker: TeX Live + xelatex + ä¸­æ–‡å­—ä½“, éƒ¨ç½² Railway/Fly.io)
- [ ] æŠ•ç¨¿æµç¨‹ (LaTeX åœ¨çº¿ç¼–è¾‘ + Markdown + PDF ä¸Šä¼ )
- [ ] LaTeX åœ¨çº¿ç¼–è¾‘å™¨ (CodeMirror 6, è¯­æ³•é«˜äº® + ç¼–è¯‘é¢„è§ˆ)
- [ ] å…±åŒä½œè€…å…³è” (paper_authors è¡¨)
- [ ] è®ºæ–‡è¯¦æƒ…é¡µ (LaTeX ç¼–è¯‘ PDF / ç›´ä¼  PDF / Markdown æ¸²æŸ“)
- [ ] å¼€æ”¾è¯„å®¡ (ç»“æ„åŒ–è¯„å®¡è¡¨å• + å±•ç¤º + è¯„å®¡èšåˆè¯„åˆ†è§¦å‘å™¨)
- [ ] è¯„å®¡å†³å®šè‡ªåŠ¨åˆ¤å®šé€»è¾‘ (â‰¥2 è¯„å®¡å¤šæ•°ä¸€è‡´ â†’ è‡ªåŠ¨å‡ºç»“æœ)
- [ ] è‡ªç”±è¯„è®º (åµŒå¥— 2 å±‚)
- [ ] ç‚¹èµ (è®ºæ–‡ + è¯„è®º)
- [ ] é¦–é¡µ Feed (æœ€æ–°æ’åº)
- [ ] 3 ä¸ªé¢„è®¾å­åˆŠ
- [ ] Mobile-First å“åº”å¼é€‚é… (åº•éƒ¨ Tab å¯¼èˆª + ç§»åŠ¨ç«¯å¿«é€ŸæŠ•ç¨¿)
- [ ] åŸºç¡€ SEO: æ¯é¡µåŠ¨æ€ OG meta tags (title / description / image)
- [ ] åŸºç¡€å†…å®¹å®¡æ ¸: å…³é”®è¯é»‘åå• + OpenAI Moderation API è‡ªåŠ¨è¿‡æ»¤
- [ ] ä¸¾æŠ¥åŠŸèƒ½ (reports è¡¨ + ä¸¾æŠ¥æŒ‰é’®)

### Phase 2: ç¤¾åŒºå¢å¼º (4 å‘¨)

- [ ] æ”¶è—åŠŸèƒ½
- [ ] Emoji ååº”
- [ ] é€šçŸ¥ç³»ç»Ÿ (ç«™å†…, Realtime + è½®è¯¢é™çº§)
- [ ] æœç´¢åŠŸèƒ½ (è‹±æ–‡ tsvector + ä¸­æ–‡ pg_trgm åŒè·¯æœç´¢)
- [ ] çƒ­é—¨æ’åºç®—æ³• (hot_score å®šæ—¶æ›´æ–°)
- [ ] é—­çœ¼ç›²å®¡æ¨¡å¼ (éšæœºåˆ†é…è¯„å®¡å‘˜, å†·å¯åŠ¨é™çº§ä¸ºå¼€æ”¾è¯„å®¡)
- [ ] ä½œè€… Rebuttal
- [ ] è¯„å®¡é‚€è¯·é‚®ä»¶ (Resend)
- [ ] åˆ†äº«å¡ç‰‡ç”Ÿæˆ (OG Image, Vercel OG)
- [ ] åŠå¼€æ”¾æ³¨å†Œ (å–æ¶ˆé‚€è¯·ç , æ–°å¢å…¥é—¨ä»»åŠ¡)
- [ ] ç¤¾åŒºå…¬çº¦é¡µé¢

### Phase 3: æˆé•¿é£è½® (4 å‘¨)

- [ ] æˆå°±ç³»ç»Ÿ
- [ ] ç”¨æˆ· Karma ç§¯åˆ†
- [ ] å­åˆŠç®¡ç†åå° (ä¸»ç¼–åŠŸèƒ½: è£å®šæƒ / ç½®é¡¶ / ç²¾é€‰)
- [ ] æ–°å­åˆŠç”³è¯·æµç¨‹
- [ ] æ’è¡Œæ¦œ (æœ€ä½³åƒåœ¾ / æœ€ä½³è¯„å®¡å‘˜ / æ´»è·ƒç”¨æˆ·)
- [ ] é‚®ä»¶å‘¨æŠ¥ (æœ¬å‘¨ç²¾é€‰åƒåœ¾)
- [ ] PWA æ”¯æŒ
- [ ] å›½é™…åŒ– (ä¸­/è‹±)
- [ ] ç®¡ç†åå°: å®¡æ ¸é˜Ÿåˆ— Dashboard

### Phase 4: è§„æ¨¡åŒ– (æŒç»­)

- [ ] æœç´¢è¿ç§»è‡³ Meilisearch / Algolia
- [ ] è¯„å®¡å‘˜æ¨èç®—æ³• (åŸºäºç ”ç©¶é¢†åŸŸ)
- [ ] API å¼€æ”¾ (ä¾›ç¬¬ä¸‰æ–¹é›†æˆ)
- [ ] ç§»åŠ¨ç«¯ App (React Native / Expo)
- [ ] æ•°æ®åˆ†æé¢æ¿ (æŠ•ç¨¿è¶‹åŠ¿/å­¦ç§‘åˆ†å¸ƒ)
- [ ] WebSocket è‡ªå»ºæ–¹æ¡ˆæ›¿ä»£ Supabase Realtime (å¦‚éœ€)

---

## 11. æˆæœ¬ä¼°ç®— (MVP é˜¶æ®µ)

| æœåŠ¡ | å…è´¹é¢åº¦ | é¢„ä¼°æœˆè´¹ (ç”¨æˆ· < 1000) |
|------|---------|----------------------|
| Vercel (Hobby) | 100GB å¸¦å®½, æ— é™éƒ¨ç½² | $0 |
| Supabase (Free) | 500MB æ•°æ®åº“, 1GB å­˜å‚¨, 50K MAU | $0 |
| Resend (Free) | 3000 å°/æœˆ | $0 |
| Upstash Redis (Free) | 10K è¯·æ±‚/å¤© | $0 |
| LaTeX ç¼–è¯‘æœåŠ¡ | Railway Free (500h/æœˆ) æˆ– Fly.io Free (3 shared VMs) | $0~$5 |
| åŸŸå | â€” | ~$12/å¹´ |
| **æ€»è®¡ (MVP)** | | **~$5/æœˆ** |

**è§„æ¨¡åŒ–å (1ä¸‡+ ç”¨æˆ·):**

| æœåŠ¡ | å¥—é¤ | æœˆè´¹ |
|------|------|------|
| Vercel Pro | | $20 |
| Supabase Pro | 8GB æ•°æ®åº“, 100GB å­˜å‚¨ | $25 |
| Resend Pro | 50K å°/æœˆ | $20 |
| Upstash Pro | | $10 |
| LaTeX ç¼–è¯‘æœåŠ¡ | Railway/Fly.io (2 vCPU, 2GB RAM) | $15 |
| **æ€»è®¡** | | **~$90/æœˆ** |

---

## 12. æ³¨æ„äº‹é¡¹

### 12.1 æ³•å¾‹åˆè§„

- åœ¨ç½‘ç«™æ˜¾è‘—ä½ç½®æ·»åŠ  Disclaimer: "æœ¬å¹³å°ä¸ºå¨±ä¹ç¤¾åŒºï¼Œéæ­£è§„å­¦æœ¯å‡ºç‰ˆç‰©"
- ç”¨æˆ·åè®®ä¸­æ˜ç¡®: æŠ•ç¨¿å†…å®¹ä¸æ„æˆæ­£å¼å­¦æœ¯å‘è¡¨
- å¦‚é¢å‘å›½å†…ç”¨æˆ·: éœ€è¦ ICP å¤‡æ¡ˆ (å¯ç”¨å¢ƒå¤–æœåŠ¡å™¨è§„é¿, ä½†å½±å“è®¿é—®é€Ÿåº¦)
- å†…å®¹å®¡æ ¸: è®¾ç½®ä¸¾æŠ¥æœºåˆ¶, äººå·¥å®¡æ ¸é˜Ÿåˆ—

### 12.2 ç¤¾åŒºè¿è¥

#### 12.2.1 å†·å¯åŠ¨ç­–ç•¥

**Phase 0: ç§å­å†…å®¹é¢„å¡« (ä¸Šçº¿å‰ 1-2 å‘¨)**

- å›¢é˜Ÿæˆå‘˜ + é‚€è¯·çš„ 5-10 ä½ç§‘ç ” KOL é¢„å…ˆæŠ•ç¨¿ 20-30 ç¯‡é«˜è´¨é‡"åƒåœ¾"
- æ¶µç›–å„å­åˆŠ, ç¡®ä¿ç”¨æˆ·é¦–æ¬¡è®¿é—®æ—¶ Feed ä¸ä¸ºç©º
- é¢„å†™ 3-5 ç¯‡ç¤ºèŒƒæ€§è¯„å®¡, å±•ç¤ºè¯„å®¡ç³»ç»Ÿçš„ç©æ³•å’Œè°ƒæ€§
- å‡†å¤‡ 1 ç¯‡"æŠ•ç¨¿æŒ‡å—"ç½®é¡¶å¸–, ç”¨å¹½é»˜é£æ ¼ä»‹ç»å¹³å°è§„åˆ™

**Phase 1: é‚€è¯·åˆ¶å†…æµ‹ (å‰ 2-4 å‘¨)**

- ä¸Šçº¿åˆæœŸé‡‡ç”¨é‚€è¯·ç æ³¨å†Œ, æ¯ä½ç”¨æˆ·è·å¾— 3 ä¸ªé‚€è¯·ç 
- é‚€è¯·ç æ•°æ®è¡¨:

```sql
CREATE TABLE invite_codes (
  code TEXT PRIMARY KEY,                    -- 6ä½éšæœºç 
  creator_id UUID REFERENCES profiles(id),
  used_by UUID REFERENCES profiles(id),
  used_at TIMESTAMPTZ,
  expires_at TIMESTAMPTZ DEFAULT now() + INTERVAL '30 days',
  created_at TIMESTAMPTZ DEFAULT now()
);
```

- é¦–æ‰¹é‚€è¯·ç å®šå‘å‘æ”¾ç»™: å°çº¢ä¹¦ Rubbish ç¤¾åŒºæ´»è·ƒç”¨æˆ·ã€å³åˆ»ç§‘ç ”è¯é¢˜ KOLã€Twitter/X å­¦æœ¯åœˆåšä¸»
- æ¯ä½å—é‚€ç”¨æˆ·è‡ªåŠ¨è·å¾— 20 karma åˆå§‹ç§¯åˆ† (å¯ç«‹å³å‚ä¸è¯„å®¡)

**Phase 2: åŠå¼€æ”¾æ³¨å†Œ (4-8 å‘¨)**

- å¼€æ”¾ GitHub / Google OAuth æ³¨å†Œ, ä½†æ–°ç”¨æˆ·éœ€å®Œæˆ"å…¥é—¨ä»»åŠ¡"è§£é”æŠ•ç¨¿æƒé™:
  - ä»»åŠ¡ 1: å®Œå–„ä¸ªäººèµ„æ–™ (æœºæ„ + ç ”ç©¶é¢†åŸŸ)
  - ä»»åŠ¡ 2: å¯¹ä»»æ„ 1 ç¯‡è®ºæ–‡å‘è¡¨è¯„è®º
  - ä»»åŠ¡ 3: å¯¹ä»»æ„ 1 ç¯‡è®ºæ–‡æäº¤è¯„å®¡
- å®Œæˆå…¥é—¨ä»»åŠ¡åè·å¾— 10 karma + "åˆå…¥åƒåœ¾åœº" æˆå°±

**Phase 3: å…¨é¢å¼€æ”¾**

- å–æ¶ˆé‚€è¯·ç é™åˆ¶, ä¿ç•™å…¥é—¨ä»»åŠ¡æœºåˆ¶
- æ–°ç”¨æˆ·æŠ•ç¨¿é¢‘ç‡é™åˆ¶: å‰ 7 å¤©æœ€å¤š 2 ç¯‡/å¤©

**ä¼ æ’­ç­–ç•¥**

- æ¯ç¯‡è®ºæ–‡è‡ªåŠ¨ç”Ÿæˆåˆ†äº«å¡ç‰‡ (å«æ ‡é¢˜ + åƒåœ¾è¯„åˆ† + äºŒç»´ç ), æ–¹ä¾¿ç¤¾äº¤åª’ä½“ä¼ æ’­
- æ¯å‘¨è‡ªåŠ¨ç”Ÿæˆ"æœ¬å‘¨æœ€ä½³åƒåœ¾ Top 5"æ¦œå•, å¯ä¸€é”®åˆ†äº«
- é¼“åŠ±ç”¨æˆ·å°†è¢«æ‹’ç¨¿ä»¶æŠ•ç¨¿æ—¶é™„ä¸ŠåŸå§‹å®¡ç¨¿æ„è§æˆªå›¾, å½¢æˆå¯¹æ¯”æ•ˆæœ

#### 12.2.2 å†…å®¹å®¡æ ¸æ–¹æ¡ˆ

**ä¸‰å±‚å®¡æ ¸æœºåˆ¶:**

```
æŠ•ç¨¿/è¯„è®ºæäº¤
    â”‚
    â–¼
ç¬¬ä¸€å±‚: è‡ªåŠ¨è¿‡æ»¤ (å³æ—¶)
    â”œâ”€â”€ å…³é”®è¯é»‘åå• (æ”¿æ²»æ•æ„Ÿ/è‰²æƒ…/äººèº«æ”»å‡»)
    â”œâ”€â”€ OpenAI Moderation API (å…è´¹, æ”¯æŒä¸­è‹±æ–‡)
    â”œâ”€â”€ é‡å¤å†…å®¹æ£€æµ‹ (æ ‡é¢˜ç›¸ä¼¼åº¦ > 90% æ‹¦æˆª)
    â”‚
    â–¼ é€šè¿‡
ç¬¬äºŒå±‚: ç¤¾åŒºè‡ªæ²» (æŒç»­)
    â”œâ”€â”€ ä»»ä½•ç”¨æˆ·å¯ä¸¾æŠ¥ (é€‰æ‹©åŸå› : åƒåœ¾å¹¿å‘Š/äººèº«æ”»å‡»/æŠ„è¢­/ä¸å½“å†…å®¹/å…¶ä»–)
    â”œâ”€â”€ åŒä¸€å†…å®¹è¢« â‰¥ 3 äººä¸¾æŠ¥ â†’ è‡ªåŠ¨éšè— + è¿›å…¥äººå·¥å®¡æ ¸é˜Ÿåˆ—
    â”œâ”€â”€ å­åˆŠä¸»ç¼–å¯ç›´æ¥éšè—/åˆ é™¤æœ¬åˆŠå†…å®¹
    â”‚
    â–¼ äº‰è®®å†…å®¹
ç¬¬ä¸‰å±‚: å¹³å°ç®¡ç†å‘˜ (äººå·¥)
    â”œâ”€â”€ å®¡æ ¸é˜Ÿåˆ— Dashboard (ç®¡ç†åå°)
    â”œâ”€â”€ å¤„ç†ç»“æœ: æ¢å¤ / åˆ é™¤ / å°ç¦ç”¨æˆ·
    â””â”€â”€ ç”³è¯‰é€šé“: ç”¨æˆ·å¯å¯¹å¤„ç†ç»“æœæå‡ºç”³è¯‰
```

**ä¸¾æŠ¥ç³»ç»Ÿæ•°æ®è¡¨:**

```sql
CREATE TABLE reports (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  reporter_id UUID REFERENCES profiles(id),
  target_type TEXT NOT NULL,              -- 'paper' | 'comment' | 'review' | 'user'
  target_id UUID NOT NULL,
  reason TEXT NOT NULL,                   -- 'spam' | 'harassment' | 'plagiarism' | 'inappropriate' | 'other'
  description TEXT,                       -- è¡¥å……è¯´æ˜
  status TEXT DEFAULT 'pending',          -- 'pending' | 'resolved_delete' | 'resolved_dismiss' | 'resolved_ban'
  resolved_by UUID REFERENCES profiles(id),
  resolved_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT now()
);

CREATE INDEX reports_status_idx ON reports(status);
CREATE INDEX reports_target_idx ON reports(target_type, target_id);
```

**ç¤¾åŒºå…¬çº¦è¦ç‚¹:**

- å…è®¸: å¤±è´¥å®éªŒã€è¢«æ‹’ç¨¿ä»¶ã€ç§‘ç ”åæ§½ã€å­¦æœ¯å¹½é»˜ã€éä¸¥è‚ƒè®¨è®º
- ç¦æ­¢: äººèº«æ”»å‡»ã€æ­§è§†è¨€è®ºã€çœŸå®éšç§æ³„éœ²ã€å•†ä¸šå¹¿å‘Šã€æŠ„è¢­ä»–äººå†…å®¹
- ç°è‰²åœ°å¸¦: å¯¹å…·ä½“å¯¼å¸ˆ/æœºæ„çš„åæ§½ â†’ è¦æ±‚åŒ¿ååŒ–å¤„ç†, ä¸å¾—å‡ºç°çœŸå®å§“å

### 12.3 "Rubber" å“ç‰Œ

- å“ç‰Œå Rubber å–è‡ª Rubbish çš„è°éŸ³å˜ä½“, è‡´æ•¬ Nature / Science çš„å‘½åé£æ ¼â€”â€”ä¸€ä¸ªå•è¯å³å“ç‰Œ
- å»ºè®®ä¸å°çº¢ä¹¦ä¸Šçš„åŸå§‹ Rubbish ç¤¾åŒºåˆ›ä½œè€…æ²Ÿé€š, è·å¾—è®¤å¯æˆ–åˆä½œ
- å¯è€ƒè™‘å¼€æºæ•´ä¸ªé¡¹ç›®, ä¸ç¤¾åŒºå…±å»º
- åŸŸåå»ºè®®: rubber.pub / rubber.science / rubberjournal.org
